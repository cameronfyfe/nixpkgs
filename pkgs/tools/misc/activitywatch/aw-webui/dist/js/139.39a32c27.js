"use strict";(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[139],{9139:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},a=[],l=n(53167),r=n(69409),s=n(46520),o=n(6767),c=n(96486),u=n(30381);function d(t,e){var n=t.querySelector("#"+e),i=t.querySelector(".titleinfo-container");i.innerHTML=n.innerHTML,i.style.height=n.getAttribute("height")}function p(t){t.innerHTML="",s.select(t).append("svg").attr("class","apptimeline").attr("viewBox","0 0 100 10").attr("width","100%"),s.select(t).append("div").attr("class","titleinfo-list").attr("display","none");var e=document.createElement("div");e.style.width="100%",e.style.height="200px",e.style.overflowY="scroll",t.appendChild(e),s.select(e).append("div").attr("width","100%").attr("class","titleinfo-container")}function f(t,e){var n=t.querySelector(".apptimeline"),i=t.querySelector(".titleinfo-list"),a=t.querySelector(".titleinfo-container"),l=s.select(n);n.innerHTML="",i.innerHTML="",a.innerHTML="",l.append("text").attr("x","0").attr("y","3").text(e).attr("font-family","sans-serif").attr("font-size","3").attr("fill","black")}function h(t,e,n,i,a){var p=s.select(t.querySelector(".apptimeline")).html(null),h=s.select(t.querySelector(".titleinfo-list")).html(null);if(s.select(t.querySelector(".titleinfo-container")).html(null),!(e.length<=0)){var m=e[0],y=e[e.length-1],v=u(m.timestamp),_=u(y.timestamp).add(y.duration,"seconds"),w=c.sumBy(e,"duration"),x=_.diff(v,"seconds",!0),g=0;return c.each(e,(function(e,s){var f,m;if(n){var y=u(e.timestamp);f=y.diff(v,"seconds",!0)/x,f=100*f+"%",m=e.duration/x*100+"%"}else f=g,m=e.duration/w*100;var _=(0,l.getColorFromString)(i(e)),k=o(_).darken(.4).hex(),b=p.append("g").attr("id","timeline_event_"+s),S=b.append("rect").attr("x",f).attr("y",0).attr("width",m).attr("height",10).style("fill",_).on("mouseover",(function(){S.style("fill",k),d(t,"titleinfo_event_"+s)})).on("mouseout",(function(){S.style("fill",_)})),q=h.append("div").attr("id","titleinfo_event_"+s).style("display","none");q.append("h5").attr("x","10px").attr("y","20px").text(i(e)+" ("+(0,r.seconds_to_duration)(e.duration)+")").attr("font-family","sans-serif").attr("font-size","20px").attr("fill","black");var H=q.append("table");c.each(e.data.subevents,(function(t){var e=H.append("tr"),n=u(t.timestamp).format("HH:mm:ss");e.append("td").text(n);var i=(0,r.seconds_to_duration)(t.duration);e.append("td").text(i).style("padding-left","1em").style("text-align","right"),e.append("td").text(a(t)).style("padding-left","1em")})),g+=m})),t}f(t,"No data")}const m={create:p,update:h,set_status:f},y={name:"aw-timeline",props:{chunks:{type:Object},show_afk:{type:Boolean},chunkfunc:{type:Function},eventfunc:{type:Function}},watch:{chunks:function(){this.update()},show_afk:function(){this.update()}},mounted:function(){m.create(this.$el),this.update()},methods:{update:function(){null===this.chunks?m.set_status(this.$el,"Loading..."):m.update(this.$el,this.chunks,this.show_afk,this.chunkfunc,this.eventfunc)}}},v=y;var _=n(1001),w=(0,_.Z)(v,i,a,!1,null,"62b8c91d",null);const x=w.exports}}]);
//# sourceMappingURL=139.39a32c27.js.map