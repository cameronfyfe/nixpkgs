"use strict";(self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[]).push([[391],{27391:(t,e,a)=>{a.r(e),a.d(e,{default:()=>v});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",["range"==t.mode&&t.invalidDaterange?a("b-alert",{attrs:{variant:"warning",show:""}},[t._v("The selected date range is invalid. The second date must be greater than the first date.")]):t._e(),"range"==t.mode&&t.daterangeTooLong?a("b-alert",{attrs:{variant:"warning",show:""}},[t._v("The selected date range is too long. The maximum is "+t._s(t.maxDuration/86400)+" days.")]):t._e(),a("table",[a("tr",[t._m(0),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],attrs:{id:"mode"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"last_duration"}},[t._v("Last duration")]),a("option",{attrs:{value:"range"}},[t._v("Date range")])])])]),"last_duration"==t.mode?a("tr",[t._m(1),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],attrs:{id:"duration"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.duration=e.target.multiple?a:a[0]},t.valueChanged]}},[a("option",{domProps:{value:900}},[t._v("15min")]),a("option",{domProps:{value:1800}},[t._v("30min")]),a("option",{domProps:{value:3600}},[t._v("1h")]),a("option",{domProps:{value:7200}},[t._v("2h")]),a("option",{domProps:{value:14400}},[t._v("4h")]),a("option",{domProps:{value:21600}},[t._v("6h")]),a("option",{domProps:{value:43200}},[t._v("12h")]),a("option",{domProps:{value:86400}},[t._v("24h")])])])]):t._e(),"range"==t.mode?a("tr",[a("th",{staticClass:"pr-2"},[t._v("Range:")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],attrs:{type:"date"},domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],attrs:{type:"date"},domProps:{value:t.end},on:{input:function(e){e.target.composing||(t.end=e.target.value)}}}),a("button",{staticClass:"btn btn-outline-dark btn-sm",attrs:{type:"button",disabled:"range"==t.mode&&(t.invalidDaterange||t.emptyDaterange||t.daterangeTooLong)},on:{click:t.valueChanged}},[t._v("Update")])])]):t._e()])],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"pr-2"},[a("label",{attrs:{for:"mode"}},[t._v("Interval mode:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"pr-2"},[a("label",{attrs:{for:"duration"}},[t._v("Show last:")])])}],o=(a(9653),a(30381)),i=a.n(o);const s={name:"input-timeinterval",props:{defaultDuration:{type:Number,default:3600},maxDuration:{type:Number,default:null}},data:function(){return{duration:null,mode:"last_duration",start:null,end:null}},computed:{value:{get:function(){return"range"==this.mode&&this.start&&this.end?[i()(this.start),i()(this.end)]:[i()().subtract(this.duration,"seconds"),i()()]}},emptyDaterange:function(){return!(this.start&&this.end)},invalidDaterange:function(){return i()(this.start)>=i()(this.end)},daterangeTooLong:function(){return i()(this.start).add(this.maxDuration,"seconds").isBefore(i()(this.end))}},mounted:function(){this.duration=this.defaultDuration,this.valueChanged()},methods:{valueChanged:function(){"last_duration"!=this.mode&&(this.emptyDaterange||this.invalidDaterange||this.daterangeTooLong)||this.$emit("input",this.value)}}},u=s;var d=a(1001),l=(0,d.Z)(u,n,r,!1,null,"c7010e0a",null);const v=l.exports}}]);
//# sourceMappingURL=391.6a322521.js.map