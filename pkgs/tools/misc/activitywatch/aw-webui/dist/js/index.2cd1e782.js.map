{"version":3,"file":"js/index.2cd1e782.js","mappings":"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","sources":["webpack://aw-webui/./src/queries.ts","webpack://aw-webui/./src/store/modules/settings.ts","webpack://aw-webui/./src/util/classes.ts","webpack://aw-webui/./src/util/color.ts","webpack://aw-webui/./src/util/time.ts","webpack://aw-webui/./src/util/timeperiod.ts","webpack://aw-webui/./src/util/filters.js","webpack://aw-webui/./src/util/awclient.js","webpack://aw-webui/./src/route.js","webpack://aw-webui/./src/util/fakedata.js","webpack://aw-webui/./src/store/modules/activity.ts","webpack://aw-webui/./src/store/modules/buckets.js","webpack://aw-webui/./src/store/modules/categories.js","webpack://aw-webui/./src/store/modules/views.ts","webpack://aw-webui/./src/store/modules/server.ts","webpack://aw-webui/./src/store/index.js","webpack://aw-webui/./src/App.vue?5093","webpack://aw-webui/src/App.vue","webpack://aw-webui/./src/App.vue?0b11","webpack://aw-webui/./src/App.vue","webpack://aw-webui/./src/main.js","webpack://aw-webui/./src/mixins/asyncErrorCaptured.js","webpack://aw-webui/webpack/bootstrap","webpack://aw-webui/webpack/runtime/chunk loaded","webpack://aw-webui/webpack/runtime/compat get default export","webpack://aw-webui/webpack/runtime/define property getters","webpack://aw-webui/webpack/runtime/ensure chunk","webpack://aw-webui/webpack/runtime/get javascript chunk filename","webpack://aw-webui/webpack/runtime/get mini-css chunk filename","webpack://aw-webui/webpack/runtime/global","webpack://aw-webui/webpack/runtime/hasOwnProperty shorthand","webpack://aw-webui/webpack/runtime/load script","webpack://aw-webui/webpack/runtime/make namespace object","webpack://aw-webui/webpack/runtime/node module decorator","webpack://aw-webui/webpack/runtime/publicPath","webpack://aw-webui/webpack/runtime/css loading","webpack://aw-webui/webpack/runtime/jsonp chunk loading","webpack://aw-webui/webpack/startup"],"sourcesContent":["import _ from 'lodash';\n\n// TODO: Sanitize string input of buckets\n\nfunction querystr_to_array(querystr: string): string[] {\n  return querystr\n    .split(';')\n    .map(s => s.trim())\n    .filter(s => s)\n    .map(s => s + ';');\n}\n\nfunction escape_doublequote(s: string) {\n  return s.replace(/\"/g, '\\\\\"');\n}\n\ninterface Rule {\n  type: string;\n  regex?: string;\n}\n\ninterface BaseQueryParams {\n  include_audible?: boolean;\n  classes: [string[], Rule][];\n  filter_classes: string[][];\n  bid_browsers?: string[];\n}\n\ninterface DesktopQueryParams extends BaseQueryParams {\n  bid_window: string;\n  bid_afk: string;\n  filter_afk: boolean;\n}\n\ninterface AndroidQueryParams extends BaseQueryParams {\n  bid_android: string;\n}\n\nfunction isDesktopParams(object: any): object is DesktopQueryParams {\n  return 'bid_window' in object;\n}\n\nfunction isAndroidParams(object: any): object is AndroidQueryParams {\n  return 'bid_android' in object;\n}\n\n// Constructs a query that returns a fully-detailed list of events from the merging of several sources (window, afk, web).\n// Performs:\n//  - AFK filtering (if filter_afk is true)\n//  - Categorization (if classes specified)\n//  - Filters by category (if filter_classes set)\n// Puts it's results in `events` and `not_afk` (if not_afk available for platform).\nexport function canonicalEvents(params: DesktopQueryParams | AndroidQueryParams): string {\n  // Needs escaping for regex patterns like '\\w' to work (JSON.stringify adds extra unecessary escaping)\n  const classes_str = JSON.stringify(params.classes).replace(/\\\\\\\\/g, '\\\\');\n  const cat_filter_str = JSON.stringify(params.filter_classes);\n\n  // For simplicity, we assume that bid_window and bid_android are exchangeable (note however it needs special treatment)\n  const bid_window = isDesktopParams(params) ? params.bid_window : params.bid_android;\n\n  return [\n    // Fetch window/app events\n    `events = flood(query_bucket(\"${bid_window}\"));`,\n    // On Android, merge events to avoid overload of events\n    isAndroidParams(params) ? 'events = merge_events_by_keys(events, [\"app\"]);' : '',\n    // Fetch not-afk events\n    isDesktopParams(params)\n      ? `not_afk = flood(query_bucket(\"${params.bid_afk}\"));\n         not_afk = filter_keyvals(not_afk, \"status\", [\"not-afk\"]);`\n      : '',\n    // Fetch browser events\n    params.bid_browsers\n      ? isDesktopParams(params) &&\n        browserEvents(params) +\n          // Include focused and audible browser events as indications of not-afk\n          (params.include_audible\n            ? `audible_events = filter_keyvals(browser_events, \"audible\", [true]);\n             not_afk = period_union(not_afk, audible_events);`\n            : '')\n      : '',\n    // Filter out window events when the user was afk\n    isDesktopParams(params) && params.filter_afk\n      ? 'events = filter_period_intersect(events, not_afk);'\n      : '',\n    // Categorize\n    params.classes ? `events = categorize(events, ${classes_str});` : '',\n    // Filter out selected categories\n    params.filter_classes ? `events = filter_keyvals(events, \"$category\", ${cat_filter_str});` : '',\n  ].join('\\n');\n}\n\nconst default_limit = 100; // Hardcoded limit per group\n\nexport function appQuery(\n  appbucket: string,\n  classes: [string[], Rule][],\n  filterCategories: string[][]\n): string[] {\n  appbucket = escape_doublequote(appbucket);\n  const params: AndroidQueryParams = {\n    bid_android: appbucket,\n    classes: classes,\n    filter_classes: filterCategories,\n  };\n\n  const code = `\n    ${canonicalEvents(params)}\n\n    title_events = sort_by_duration(merge_events_by_keys(events, [\"app\", \"classname\"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, [\"app\"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n\n    events = sort_by_timestamp(events);\n    app_events  = limit_events(app_events, ${default_limit});\n    title_events  = limit_events(title_events, ${default_limit});\n    duration = sum_durations(events);\n    RETURN  = {\"app_events\": app_events, \"title_events\": title_events, \"cat_events\": cat_events, \"duration\": duration, \"active_events\": app_events};\n  `;\n  return querystr_to_array(code);\n}\n\nconst browser_appnames = {\n  chrome: [\n    // Chrome\n    'Google Chrome',\n    'Google-chrome',\n    'chrome.exe',\n    'google-chrome-stable',\n\n    // Chromium\n    'Chromium',\n    'Chromium-browser',\n    'Chromium-browser-chromium',\n    'chromium.exe',\n\n    // Pre-releases\n    'Google-chrome-beta',\n    'Google-chrome-unstable',\n\n    // Brave (should this be merged with the brave entry?)\n    'Brave-browser',\n  ],\n  firefox: [\n    'Firefox',\n    'Firefox.exe',\n    'firefox',\n    'firefox.exe',\n    'Firefox Developer Edition',\n    'firefoxdeveloperedition',\n    'Firefox-esr',\n    'Firefox Beta',\n    'Nightly',\n  ],\n  opera: ['opera.exe', 'Opera'],\n  brave: ['brave.exe'],\n  edge: [\n    'msedge.exe', // Windows\n    'Microsoft Edge', // macOS\n  ],\n  vivaldi: ['Vivaldi-stable', 'Vivaldi-snapshot', 'vivaldi.exe'],\n};\n\n// Returns a list of (browserName, bucketId) pairs for found browser buckets\nfunction browsersWithBuckets(browserbuckets: string[]): [string, string][] {\n  const browsername_to_bucketid: [string, string | undefined][] = _.map(\n    Object.keys(browser_appnames),\n    browserName => {\n      const bucketId = _.find(browserbuckets, bucket_id => _.includes(bucket_id, browserName));\n      return [browserName, bucketId];\n    }\n  );\n  // Skip browsers for which a bucket couldn't be found\n  return _.filter(browsername_to_bucketid, ([, bucketId]) => bucketId !== undefined);\n}\n\n// Returns a list of active browser events (where the browser was the active window) from all browser buckets\nfunction browserEvents(params: DesktopQueryParams): string {\n  let code = `\n    browser_events = [];\n  `;\n\n  _.each(browsersWithBuckets(params.bid_browsers), ([browserName, bucketId]) => {\n    const browser_appnames_str = JSON.stringify(browser_appnames[browserName]);\n    code += `events_${browserName} = flood(query_bucket(\"${bucketId}\"));\n       window_${browserName} = filter_keyvals(events, \"app\", ${browser_appnames_str});\n       events_${browserName} = filter_period_intersect(events_${browserName}, window_${browserName});\n       events_${browserName} = split_url_events(events_${browserName});\n       browser_events = concat(browser_events, events_${browserName});\n       browser_events = sort_by_timestamp(browser_events);`;\n  });\n  return code;\n}\n\nexport function fullDesktopQuery(\n  browserbuckets: string[],\n  windowbucket: string,\n  afkbucket: string,\n  filterAFK = true,\n  classes: [string[], Rule][] = [],\n  filterCategories: string[][],\n  include_audible: boolean\n): string[] {\n  // Escape `\"`\n  browserbuckets = _.map(browserbuckets, escape_doublequote);\n  windowbucket = escape_doublequote(windowbucket);\n  afkbucket = escape_doublequote(afkbucket);\n\n  // TODO: Get classes\n  const params: DesktopQueryParams = {\n    bid_window: windowbucket,\n    bid_afk: afkbucket,\n    bid_browsers: browserbuckets,\n    classes: classes,\n    filter_classes: filterCategories,\n    filter_afk: filterAFK,\n    include_audible,\n  };\n\n  return querystr_to_array(\n    `\n    ${canonicalEvents(params)}\n    title_events = sort_by_duration(merge_events_by_keys(events, [\"app\", \"title\"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, [\"app\"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n\n    app_events  = limit_events(app_events, ${default_limit});\n    title_events  = limit_events(title_events, ${default_limit});\n    duration = sum_durations(events);\n    ` + // Browser events are retrieved in canonicalQuery\n      `\n    browser_events = split_url_events(browser_events);\n    browser_urls = merge_events_by_keys(browser_events, [\"url\"]);\n    browser_urls = sort_by_duration(browser_urls);\n    browser_urls = limit_events(browser_urls, ${default_limit});\n    browser_domains = merge_events_by_keys(browser_events, [\"$domain\"]);\n    browser_domains = sort_by_duration(browser_domains);\n    browser_domains = limit_events(browser_domains, ${default_limit});\n    browser_duration = sum_durations(browser_events);\n\n    RETURN = {\n        \"window\": {\n            \"app_events\": app_events,\n            \"title_events\": title_events,\n            \"cat_events\": cat_events,\n            \"active_events\": not_afk,\n            \"duration\": duration\n        },\n        \"browser\": {\n            \"domains\": browser_domains,\n            \"urls\": browser_urls,\n            \"duration\": browser_duration\n        }\n    };`\n  );\n}\n\nexport function editorActivityQuery(editorbuckets: string[]): string[] {\n  let q = ['events = [];'];\n  for (let editorbucket of editorbuckets) {\n    editorbucket = escape_doublequote(editorbucket);\n    q.push('events = concat(events, flood(query_bucket(\"' + editorbucket + '\")));');\n  }\n  q = q.concat([\n    'files = sort_by_duration(merge_events_by_keys(events, [\"file\", \"language\"]));',\n    `files = limit_events(files, ${default_limit});`,\n    'languages = sort_by_duration(merge_events_by_keys(events, [\"language\"]));',\n    `languages = limit_events(languages, ${default_limit});`,\n    'projects = sort_by_duration(merge_events_by_keys(events, [\"project\"]));',\n    `projects = limit_events(projects, ${default_limit});`,\n    'duration = sum_durations(events);',\n    'RETURN = {\"files\": files, \"languages\": languages, \"projects\": projects, \"duration\": duration};',\n  ]);\n  return q;\n}\n\n// Returns a query that yields a single event with the duration set to\n// the sum of all non-afk time in the queried period\nexport function activityQuery(afkbucket: string): string[] {\n  afkbucket = escape_doublequote(afkbucket);\n  return [\n    'afkbucket = \"' + afkbucket + '\";',\n    'not_afk = flood(query_bucket(afkbucket));',\n    'not_afk = filter_keyvals(not_afk, \"status\", [\"not-afk\"]);',\n    'not_afk = merge_events_by_keys(not_afk, [\"status\"]);',\n    'RETURN = not_afk;',\n  ];\n}\n\n// Equivalent function to activityQuery, but for Android (which doesn't have an afk bucket)\nexport function activityQueryAndroid(androidbucket: string): string[] {\n  androidbucket = escape_doublequote(androidbucket);\n  return [`events = query_bucket(\"${androidbucket}\");`, 'RETURN = sum_durations(events);'];\n}\n\n// Returns a query that yields a dict with a key \"cat_events\" which is an\n// array of one event per category, with the duration of each event set to the sum of the category durations.\nexport function categoryQuery(params: DesktopQueryParams): string[] {\n  const q = `\n    ${canonicalEvents(params)}\n    cat_events   = sort_by_duration(merge_events_by_keys(events, [\"$category\"]));\n    RETURN = { \"cat_events\": cat_events };\n  `;\n  return querystr_to_array(q);\n}\n\nexport default {\n  fullDesktopQuery,\n  appQuery,\n  activityQuery,\n  activityQueryAndroid,\n  categoryQuery,\n  editorActivityQuery,\n};\n","import moment, { Moment } from 'moment';\n\n// Backoffs for NewReleaseNotification\nexport const SHORT_BACKOFF_PERIOD = 24 * 60 * 60;\nexport const LONG_BACKOFF_PERIOD = 5 * 24 * 60 * 60;\n\ninterface State {\n  // Timestamp when user was first seen (first time webapp is run)\n  initialTimestamp: Moment;\n\n  startOfDay: string;\n  durationDefault: number;\n  useColorFallback: boolean;\n  landingpage: string;\n\n  // light or dark\n  theme: string;\n\n  newReleaseCheckData: Record<string, any>;\n  userSatisfactionPollData: Record<string, any>;\n\n  // Whether to show certain WIP features\n  devmode: boolean;\n\n  // Set to true if settings loaded\n  _loaded: boolean;\n}\n\n// initial state, default settings\nconst _state: State = {\n  initialTimestamp: moment(),\n  startOfDay: '04:00',\n  durationDefault: 4 * 60 * 60,\n  useColorFallback: false,\n  landingpage: '/home',\n  theme: 'light',\n  newReleaseCheckData: {\n    isEnabled: true,\n    nextCheckTime: moment().add(SHORT_BACKOFF_PERIOD, 'seconds'),\n    howOftenToCheck: SHORT_BACKOFF_PERIOD,\n    timesChecked: 0,\n  },\n  userSatisfactionPollData: {},\n  // PRODUCTION might be undefined (in tests, for example)\n  devmode: typeof PRODUCTION === 'undefined' ? true : !PRODUCTION,\n  _loaded: false,\n};\n\n// getters\nconst getters = {\n  loaded(state: State) {\n    return state._loaded;\n  },\n};\n\n// actions\nconst actions = {\n  async ensureLoaded({ dispatch, getters }) {\n    if (!getters.loaded) {\n      await dispatch('load');\n    }\n  },\n  async load({ commit }) {\n    if (typeof localStorage === 'undefined') {\n      console.error('localStorage is not supported');\n      return;\n    }\n    // Fetch from localStorage first, if exists\n    const storage = {};\n    for (const key in localStorage) {\n      // Skip built-in properties like length, setItem, etc.\n      // Also skip keys starting with underscore, as they are local to the vuex store.\n      if (Object.prototype.hasOwnProperty.call(localStorage, key) && !key.startsWith('_')) {\n        const value = localStorage.getItem(key);\n        //console.log(`${key}: ${value}`);\n\n        // Keys ending with 'Data' are JSON-serialized objects\n        if (key.includes('Data')) {\n          try {\n            storage[key] = JSON.parse(value);\n          } catch (e) {\n            console.error('failed to parse', key, value);\n          }\n        } else {\n          storage[key] = value;\n        }\n      }\n    }\n    commit('setState', storage);\n\n    // TODO: Then fetch from server\n    //const getSettingsFromServer = async () => {\n    //  const { data } = await this.$aw._get('/0/settings');\n    //  return data;\n    //};\n  },\n  async save({ state, dispatch }) {\n    // First save to localStorage\n    for (const key of Object.keys(state)) {\n      const value = state[key];\n      if (typeof value === 'object') {\n        localStorage.setItem(key, JSON.stringify(value));\n      } else {\n        localStorage.setItem(key, value);\n      }\n    }\n\n    // TODO: Save to backend\n    //const updateSettingOnServer = async (key: string, value: string) => {\n    //  console.log({ key, value });\n    //  const headers = { 'Content-Type': 'application/json' };\n    //  const { data } = await this.$aw._post('/0/settings', { key, value }, headers);\n    //  return data;\n    //};\n\n    // After save, reload from localStorage\n    await dispatch('load');\n  },\n  async update({ commit, dispatch }, new_state: Record<string, any>) {\n    console.log('Updating state', new_state);\n    commit('setState', new_state);\n    await dispatch('save');\n  },\n};\n\n// mutations\nconst mutations = {\n  setState(state: State, new_state: Record<string, any>) {\n    for (const key of Object.keys(new_state)) {\n      state[key] = new_state[key];\n    }\n    state._loaded = true;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","import _ from 'lodash';\nimport { IEvent } from './interfaces';\n\nconst level_sep = '>';\nconst CLASSIFY_KEYS = ['app', 'title'];\nconst UNCATEGORIZED = ['Uncategorized'];\n\ninterface Rule {\n  type: string;\n  regex?: string;\n  ignore_case?: boolean;\n}\n\nexport interface Category {\n  id?: number;\n  name: string[];\n  name_pretty?: string;\n  subname?: string;\n  rule: Rule;\n  data?: any;\n  depth?: number;\n  parent?: string[];\n  children?: Category[];\n}\n\nconst COLOR_UNCAT = '#CCC';\n\n// The default categories\n// Should be run through createMissingParents before being used in most cases.\nexport const defaultCategories: Category[] = [\n  {\n    name: ['Work'],\n    rule: { type: 'regex', regex: 'Google Docs|libreoffice|ReText' },\n    data: { color: '#0F0' },\n  },\n  {\n    name: ['Work', 'Programming'],\n    rule: {\n      type: 'regex',\n      regex: 'GitHub|Stack Overflow|BitBucket|Gitlab|vim|Spyder|kate|Ghidra|Scite',\n    },\n  },\n  {\n    name: ['Work', 'Programming', 'ActivityWatch'],\n    rule: { type: 'regex', regex: 'ActivityWatch|aw-', ignore_case: true },\n  },\n  { name: ['Work', 'Image'], rule: { type: 'regex', regex: 'Gimp|Inkscape' } },\n  { name: ['Work', 'Video'], rule: { type: 'regex', regex: 'Kdenlive' } },\n  { name: ['Work', 'Audio'], rule: { type: 'regex', regex: 'Audacity' } },\n  { name: ['Work', '3D'], rule: { type: 'regex', regex: 'Blender' } },\n  {\n    name: ['Media', 'Games'],\n    rule: { type: 'regex', regex: 'Minecraft|RimWorld' },\n    data: { color: '#F80' },\n  },\n  {\n    name: ['Media', 'Video'],\n    rule: { type: 'regex', regex: 'YouTube|Plex|VLC' },\n    data: { color: '#F33' },\n  },\n  {\n    name: ['Media', 'Social Media'],\n    rule: {\n      type: 'regex',\n      regex: 'reddit|Facebook|Twitter|Instagram|devRant',\n      ignore_case: true,\n    },\n    data: { color: '#FCC400' },\n  },\n  {\n    name: ['Media', 'Music'],\n    rule: {\n      type: 'regex',\n      regex: 'Spotify|Deezer',\n      ignore_case: true,\n    },\n    data: { color: '#A8FC00' },\n  },\n  {\n    name: ['Comms'],\n    rule: { type: null },\n    data: { color: '#9FF' },\n  },\n  {\n    name: ['Comms', 'IM'],\n    rule: {\n      type: 'regex',\n      regex: 'Messenger|Telegram|Signal|WhatsApp|Rambox|Slack|Riot|Element|Discord|Nheko',\n    },\n  },\n  { name: ['Comms', 'Email'], rule: { type: 'regex', regex: 'Gmail|Thunderbird|mutt|alpine' } },\n  { name: ['Uncategorized'], rule: { type: null }, data: { color: COLOR_UNCAT } },\n];\n\nexport function annotate(c: Category) {\n  const ch = c.name;\n  c.name_pretty = ch.join(level_sep);\n  c.subname = ch.slice(-1)[0];\n  c.parent = ch.length > 1 ? ch.slice(0, -1) : null;\n  c.depth = ch.length - 1;\n  return c;\n}\n\nexport function createMissingParents(classes: Category[]): Category[] {\n  // Creates parents for categories that are missing theirs (implicit parents)\n  classes = _.cloneDeep(classes);\n  classes = classes.slice().map(c => annotate(c));\n  const all_full_names = new Set(classes.map(c => c.name.join(level_sep)));\n\n  function _createMissing(children: Category[]) {\n    children\n      .map(c => c.parent)\n      .filter(p => !!p)\n      .map(p => {\n        const name = p.join(level_sep);\n        if (p && !all_full_names.has(name)) {\n          const new_parent = annotate({ name: p, rule: { type: null } });\n          //console.log('Creating missing parent:', new_parent);\n          classes.push(new_parent);\n          all_full_names.add(name);\n          // New parent might not be top-level, so we need to recurse\n          _createMissing([new_parent]);\n        }\n      });\n  }\n\n  _createMissing(classes);\n  return classes;\n}\n\nexport function build_category_hierarchy(classes: Category[]): Category[] {\n  classes = createMissingParents(classes);\n\n  function assignChildren(classes_at_level: Category[]) {\n    return classes_at_level.map(cls => {\n      cls.children = classes.filter(child => {\n        return child.parent && cls.name\n          ? JSON.stringify(child.parent) == JSON.stringify(cls.name)\n          : false;\n      });\n      assignChildren(cls.children);\n      return cls;\n    });\n  }\n\n  return assignChildren(classes.filter(c => !c.parent));\n}\n\nexport function flatten_category_hierarchy(hier: Category[]): Category[] {\n  return _.flattenDeep(\n    hier.map(h => {\n      const level = [h, flatten_category_hierarchy(h.children)];\n      h.children = [];\n      return level;\n    })\n  );\n}\n\nexport function saveClasses(classes: Category[]) {\n  localStorage.classes = JSON.stringify(classes);\n  console.log('Saved classes', localStorage.classes);\n}\n\nexport function loadClasses(): Category[] {\n  const classes_json = localStorage.classes;\n  if (classes_json && classes_json.length >= 1) {\n    return JSON.parse(classes_json);\n  } else {\n    return defaultCategories;\n  }\n}\n\nexport function loadClassesForQuery(): [string[], Rule][] {\n  return loadClasses()\n    .filter(c => c.rule.type !== null)\n    .map(c => {\n      return [c.name, c.rule];\n    });\n}\n\nfunction pickDeepest(categories: Category[]) {\n  return _.maxBy(categories, c => c.name.length);\n}\n\nexport function matchString(str: string, categories: Category[] | null): Category | null {\n  if (!categories) {\n    console.log(\n      'Categories not passed, loading... (if you see this outside of a test, you should probably pass them)'\n    );\n    categories = loadClasses();\n  }\n\n  // Compile regexes\n  const regexes: [Category, RegExp][] = categories\n    .filter(c => c.rule.type == 'regex')\n    .map(c => {\n      const re = RegExp(c.rule.regex, c.rule.ignore_case ? 'i' : '');\n      return [c, re];\n    });\n\n  // Find the matching category.\n  // If several categories match the event, the deepest category will be chosen.\n  const matchingCats: [Category, RegExp][] = regexes.filter(c => c[1].test(str));\n  if (matchingCats.length > 0) {\n    return pickDeepest(matchingCats.map(c => c[0]));\n  }\n  return null;\n}\n\nexport function classifyEvents(events: IEvent[], categories: Category[]): IEvent[] {\n  // Compile regexes\n  const regexes: [Category, RegExp][] = categories\n    .filter(c => c.rule.type == 'regex')\n    .map(c => {\n      const re = RegExp(c.rule.regex, c.rule.ignore_case ? 'i' : '');\n      return [c, re];\n    });\n\n  // Classify events using compiled regexes.\n  // If several categories match the event, the deepest category will be chosen.\n  return events.map((e: IEvent) => {\n    const matchingCats: [Category, RegExp][] = regexes.filter(c => {\n      return _.map(CLASSIFY_KEYS, key => c[1].test(e.data[key])).some(x => x);\n    });\n    if (matchingCats.length > 0) {\n      const category = pickDeepest(matchingCats.map(c => c[0]));\n      e.data.$category = category.name;\n    } else {\n      e.data.$category = UNCATEGORIZED;\n    }\n    return e;\n  });\n}\n","import _ from 'lodash';\nimport { Category, matchString, loadClasses } from './classes';\nimport Color from 'color';\nimport * as d3 from 'd3';\nimport { IEvent } from './interfaces';\n\ninterface Bucket {\n  name: string;\n  type: string;\n}\n\n// See here for examples:\n//   https://bl.ocks.org/pstuffa/3393ff2711a53975040077b7453781a9\n//\n\nconst COLOR_UNCAT = '#CCC';\n\nconst scale = d3.scaleOrdinal(['#90CAF9', '#FFE082', '#EF9A9A', '#A5D6A7']);\n\n// Needed to prewarm the color table\nscale.domain(\n  '0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20'.split(/, /)\n);\n\nconst customColors = {\n  afk: '#EEE',\n  'not-afk': '#7F6',\n  hibernating: '#DD6',\n\n  'google-chrome': '#6AA7FE', // Google Blue: \"#4885ed\"\n  chromium: '#8CF', // Google Blue: \"#4885ed\"\n  firefox: '#F94', // Firefox Orange: \"#E55B0A\"\n  spotify: '#5FA', // Spotify Green: \"#1ED760\"\n  alacritty: '#FD8',\n\n  vue: '#5d9', // Vue teal #4fc08d\n  python: '#369', // Python blue #2b5b84\n  javascript: '#f6b', // JavaScript pink #eb47a5\n\n  // Developer domains\n  localhost: '#CCC',\n  'github.com': '#EBF',\n  'stackoverflow.com': Color('#F48024').lighten(0.3),\n\n  'google.com': '#0AF',\n  'google.se': '#0AF',\n\n  // Social media sites\n  'messenger.com': Color('#3b5998').lighten(0.5),\n  'facebook.com': Color('#3b5998').lighten(0.5),\n\n  // Categories\n  uncategorized: COLOR_UNCAT,\n};\n\nfunction hashcode(str: string): number {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    const character = str.charCodeAt(i);\n    hash = (hash << 5) - hash + character;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\nexport function getColorFromString(appname: string) {\n  appname = appname || '';\n  appname = appname.toLowerCase();\n  return customColors[appname] || scale(Math.abs(hashcode(appname) % 20).toString());\n}\n\n// TODO: Move into vuex?\nexport function getColorFromCategory(c: Category, allCats: Category[]): string {\n  // Returns the color for a certain category, falling back to parents if none set\n  if (c && c.data && c.data.color) {\n    return c.data.color;\n  } else if (c && c.name.slice(0, -1).length > 0) {\n    // If no color is set on category, traverse parents until one is found\n    const parent = c.name.slice(0, -1);\n    const parentCat = allCats.find(cc => _.isEqual(cc.name, parent));\n    if (parentCat === undefined) {\n      console.error(\"Couldn't find parent!\", parent);\n    }\n    return getColorFromCategory(parentCat, allCats);\n  } else {\n    return COLOR_UNCAT;\n  }\n}\n\n// TODO: Move into vuex?\nexport function getCategoryColorFromString(str: string): string {\n  // TODO: Don't load classes on every call\n  const allCats = loadClasses();\n  const c = matchString(str, allCats);\n  if (c !== null) {\n    return getColorFromCategory(c, allCats);\n  } else {\n    return fallbackColor(str);\n  }\n}\n\nfunction fallbackColor(str: string): string {\n  // Get fallback color\n  // TODO: Fetch setting from somewhere better, where defaults are respected\n  const useColorFallback =\n    localStorage !== undefined ? localStorage.useColorFallback === 'true' : true;\n  if (useColorFallback) {\n    return getColorFromString(str);\n  } else {\n    return COLOR_UNCAT;\n  }\n}\n\nexport function getTitleAttr(bucket: Bucket, e: IEvent) {\n  if (bucket.type == 'currentwindow') {\n    return e.data.app;\n  } else if (bucket.type == 'web.tab.current') {\n    try {\n      return new URL(e.data.url).hostname.replace('www.', '');\n    } catch (err) {\n      return e.data.url;\n    }\n  } else if (bucket.type == 'afkstatus') {\n    return e.data.status;\n  } else if (bucket.type?.startsWith('app.editor')) {\n    return _.last(e.data.file.split('/'));\n  } else if (bucket.type?.startsWith('general.stopwatch')) {\n    return e.data.label;\n  } else {\n    return e.data.title;\n  }\n}\n","import moment, { Moment, Duration } from 'moment';\n\nexport function seconds_to_duration(seconds: number) {\n  // Returns a human-readable duration string\n  const hrs = Math.floor(seconds / 60 / 60);\n  const min = Math.floor((seconds / 60) % 60);\n  const sec = Math.floor(seconds % 60);\n  const l = [];\n  if (hrs != 0) l.push(hrs + 'h');\n  if (min != 0) l.push(min + 'm');\n  if (sec != 0 || l.length == 0) l.push(sec + 's');\n  return l.join(' ');\n}\n\nexport function friendlydate(timestamp: string | Moment) {\n  const now = moment();\n  const m = moment.parseZone(timestamp);\n  const sinceNow = moment.duration(m.diff(now));\n  if (-sinceNow.asSeconds() <= 60) {\n    return `${Math.round(-sinceNow.asSeconds())}s ago`;\n  } else if (-sinceNow.asSeconds() <= 60 * 60 * 24) {\n    return sinceNow.humanize(true);\n  }\n  return sinceNow.humanize(true);\n}\n\nexport function get_day_start_with_offset(dateParam: Moment | string, offset: string) {\n  const dateMoment = dateParam ? moment(dateParam) : moment().startOf('day');\n  const start_of_day_hours = parseInt(offset.split(':')[0]);\n  const start_of_day_minutes = parseInt(offset.split(':')[1]);\n  return dateMoment.hour(start_of_day_hours).minute(start_of_day_minutes).format();\n}\n\n// Return the startOfDay offset as a number of hours\nexport function get_hour_offset(offset: string) {\n  const start_of_day_hours = parseInt(offset.split(':')[0]);\n  const start_of_day_minutes = parseInt(offset.split(':')[1]);\n  return start_of_day_hours + start_of_day_minutes / 60;\n}\n\nexport function get_day_end_with_offset(date: Moment | string, offset: string) {\n  return moment(get_day_start_with_offset(date, offset)).add(1, 'days').format();\n}\n\nexport function get_day_period(date: Moment | string, offset: string) {\n  return get_day_start_with_offset(date, offset) + '/' + get_day_end_with_offset(date, offset);\n}\n\nexport function get_prev_day(datestr: string) {\n  return moment(datestr).add(-1, 'days');\n}\n\nexport function get_next_day(datestr: string) {\n  return moment(datestr).add(1, 'days');\n}\n\nexport function get_offset_duration(offset: string): Duration {\n  const [hours, minutes] = offset.split(':');\n  return moment.duration({ hours: Number(hours), minutes: Number(minutes) });\n}\n\nexport function get_today_with_offset(offset: string) {\n  // Gets \"today\" in an offset-aware way\n  const offset_dur = get_offset_duration(offset);\n  return moment().subtract(offset_dur).startOf('day').format('YYYY-MM-DD');\n}\n","import moment from 'moment';\nimport { get_day_start_with_offset } from '~/util/time';\n\nexport interface TimePeriod {\n  start: string;\n  length: [number, string];\n}\n\nexport function dateToTimeperiod(\n  date: string,\n  offset: string,\n  duration?: [number, string]\n): TimePeriod {\n  return { start: get_day_start_with_offset(date, offset), length: duration || [1, 'day'] };\n}\n\nexport function timeperiodToStr(tp: TimePeriod): string {\n  const start = moment(tp.start).format();\n  const end = moment(start)\n    .add(tp.length[0], tp.length[1] as moment.unitOfTime.DurationConstructor)\n    .format();\n  return [start, end].join('/');\n}\n\nexport function dateformat(periodLength: string) {\n  if (periodLength === 'day') {\n    return 'YYYY-MM-DD';\n  } else if (periodLength === 'week') {\n    return 'YYYY[ W]WW';\n  } else if (periodLength === 'month') {\n    return 'YYYY-MM';\n  } else if (periodLength === 'year') {\n    return 'YYYY';\n  } else {\n    return 'YYYY-MM-DD';\n  }\n}\n\nexport function periodReadable(timeperiod: TimePeriod) {\n  return moment(timeperiod.start).format(dateformat(timeperiod.length[1]));\n}\n\nexport function periodLengthConvertMoment(periodLength: string) {\n  if (periodLength === 'day') {\n    return 'day';\n  } else if (periodLength === 'week') {\n    /* This is necessary so the week starts on Monday instead of Sunday */\n    return 'isoWeek';\n  } else if (periodLength === 'month') {\n    return 'month';\n  } else if (periodLength === 'year') {\n    return 'year';\n  } else {\n    console.error('Invalid periodLength ${periodLength}, defaulting to \"day\"');\n    return 'day';\n  }\n}\n\nexport function timeperiodsAroundTimeperiod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  for (let i = -15; i <= 15; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * timeperiod.length[0], timeperiod.length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ ...timeperiod, start });\n  }\n  return periods;\n}\n\nexport function timeperiodsHoursOfPeriod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  const _length: [number, string] = [1, 'hour'];\n  for (let i = 0; i < 24; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * _length[0], _length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ start, length: _length });\n  }\n  return periods;\n}\n\nexport function timeperiodsDaysOfPeriod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  const _length: [number, string] = [1, 'day'];\n\n  let count: number;\n  if (timeperiod.length[1] == 'week') {\n    count = 7;\n  } else if (timeperiod.length[1] == 'month') {\n    count = moment(timeperiod.start).daysInMonth();\n  }\n\n  for (let i = 0; i < count; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * _length[0], _length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ start, length: _length });\n  }\n  return periods;\n}\n\nexport function timeperiodsMonthsOfPeriod(timeperiod: TimePeriod): TimePeriod[] {\n  const periods = [];\n  const _length: [number, string] = [1, 'month'];\n\n  const count = 12;\n  for (let i = 0; i < count; i++) {\n    const start = moment(timeperiod.start)\n      .add(i * _length[0], _length[1] as moment.unitOfTime.DurationConstructor)\n      .format();\n    periods.push({ start, length: _length });\n  }\n  return periods;\n}\n","'use strict';\n\nimport _ from 'lodash';\nimport Vue from 'vue';\nimport { seconds_to_duration, friendlydate } from './time';\nimport { periodReadable } from './timeperiod';\n\nimport moment from 'moment';\n\nVue.filter('iso8601', function (timestamp) {\n  return moment.parseZone(timestamp).format();\n});\n\nVue.filter('shortdate', function (timestamp) {\n  return moment(timestamp).format('YYYY-MM-DD');\n});\n\nVue.filter('shorttime', function (timestamp) {\n  return moment(timestamp).format('HH:mm');\n});\n\nVue.filter('friendlytime', function (timestamp) {\n  return friendlydate(timestamp);\n});\n\nVue.filter('friendlyduration', function (seconds) {\n  return seconds_to_duration(seconds);\n});\n\nVue.filter('friendlyperiod', function (timeperiod) {\n  return periodReadable(timeperiod);\n});\n\n// Apparently this is how we should do filters now\n// https://github.com/vuejs/vue/issues/2756#issuecomment-215508316\nVue.prototype.filters = {\n  //  filterBy: ...,\n  orderBy: _.orderBy,\n};\n","import { AWClient } from 'aw-client';\n\nlet baseURL = '';\n\n// If running with `npm node dev`, use testing server as origin.\n// Works since CORS is enabled by default when running `aw-server --testing`.\nif (!PRODUCTION) {\n  baseURL = AW_SERVER_URL || 'http://127.0.0.1:5666';\n}\n\nconst awc = new AWClient('aw-webui', { testing: !PRODUCTION, baseURL });\n\nexport default awc;\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\nconst Home = () => import('./views/Home.vue');\n\n// Activity views for desktop\nconst Activity = () => import('./views/activity/Activity.vue');\nconst ActivityView = () => import('./views/activity/ActivityView.vue');\n\nconst Buckets = () => import('./views/Buckets.vue');\nconst Bucket = () => import('./views/Bucket.vue');\nconst QueryExplorer = () => import('./views/QueryExplorer.vue');\nconst Timeline = () => import('./views/Timeline.vue');\nconst Trends = () => import('./views/Trends.vue');\nconst Settings = () => import('./views/settings/Settings.vue');\nconst Stopwatch = () => import('./views/Stopwatch.vue');\nconst Alerts = () => import('./views/Alerts.vue');\nconst Search = () => import('./views/Search.vue');\nconst Report = () => import('./views/Report.vue');\nconst Dev = () => import('./views/Dev.vue');\nconst NotFound = () => import('./views/NotFound.vue');\n\nVue.use(VueRouter);\n\nconst router = new VueRouter({\n  routes: [\n    {\n      path: '/',\n      redirect: _to => {\n        return localStorage.landingpage || '/home';\n      },\n    },\n    { path: '/home', component: Home },\n    {\n      path: '/activity/:host/:periodLength?/:date?',\n      component: Activity,\n      props: true,\n      children: [\n        {\n          path: 'view/:view_id?',\n          meta: { subview: 'view' },\n          name: 'activity-view',\n          component: ActivityView,\n          props: true,\n        },\n        // Unspecified should redirect to summary view is the summary view\n        // (needs to be last since otherwise it'll always match first)\n        {\n          path: '',\n          redirect: 'view/',\n        },\n      ],\n    },\n    { path: '/buckets', component: Buckets },\n    { path: '/buckets/:id', component: Bucket, props: true },\n    { path: '/timeline', component: Timeline, meta: { fullContainer: true } },\n    { path: '/trends', component: Trends, meta: { fullContainer: true } },\n    { path: '/trends/:host', component: Trends, meta: { fullContainer: true } },\n    { path: '/report', component: Report },\n    { path: '/query', component: QueryExplorer },\n    { path: '/alerts', component: Alerts },\n    { path: '/settings', component: Settings },\n    { path: '/stopwatch', component: Stopwatch },\n    { path: '/search', component: Search },\n    { path: '/dev', component: Dev },\n    // NOTE: Will break with Vue 3: https://stackoverflow.com/questions/40193634/vue-router-redirect-on-page-not-found-404/64186073#64186073\n    {\n      path: '*',\n      component: NotFound,\n    },\n  ],\n});\n\nexport default router;\n","export const window_events = [\n  {\n    duration: 32.1 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'ActivityWatch/activitywatch: Track how you spend your time - Mozilla Firefox',\n      url: 'https://github.com/ActivityWatch/activitywatch',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 14.6 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Inbox - Gmail - Mozilla Firefox',\n      url: 'https://mail.google.com',\n      $category: ['Comms', 'Email'],\n    },\n  },\n  {\n    duration: 0.2 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'reddit: the front page of the internet - Mozilla Firefox',\n      url: 'https://reddit.com',\n      $category: ['Media', 'Social Media'],\n    },\n  },\n  {\n    duration: 0.2 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'YouTube - Mozilla Firefox',\n      url: 'https://youtube.com',\n      $category: ['Media', 'Video'],\n    },\n  },\n  {\n    duration: 0.15 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Home / Twitter - Mozilla Firefox',\n      url: 'https://twitter.com',\n      $category: ['Media', 'Social Media'],\n    },\n  },\n  {\n    duration: 0.15 * 60 * 60,\n    data: {\n      app: 'Firefox',\n      title: 'Stack Overflow',\n      url: 'https://stackoverflow.com',\n      $category: ['Work', 'Programming'],\n    },\n  },\n  {\n    duration: 48.2 * 60,\n    data: {\n      app: 'Terminal',\n      title: 'vim ~/code/activitywatch/aw-server/aw-webui/src',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 12.6 * 60,\n    data: {\n      app: 'Terminal',\n      title: 'bash ~/code/activitywatch',\n      $category: ['Work', 'Programming', 'ActivityWatch'],\n    },\n  },\n  {\n    duration: 58.1 * 60,\n    data: {\n      app: 'zoom',\n      title: 'Zoom Meeting',\n      $category: ['Comms', 'Video Conferencing'],\n    },\n  },\n  {\n    duration: 0.4 * 60 * 60,\n    data: { app: 'Minecraft', title: 'Minecraft', $category: ['Media', 'Games'] },\n  },\n  {\n    duration: 3.15 * 60,\n    data: { app: 'Spotify', title: 'Spotify', $category: ['Media', 'Music'] },\n  },\n];\n","import moment from 'moment';\nimport * as _ from 'lodash';\nimport { map, filter, values, groupBy, sortBy, flow, reverse } from 'lodash/fp';\nimport { IEvent } from '~/util/interfaces';\n\nimport { window_events } from '~/util/fakedata';\nimport queries from '~/queries';\nimport { getColorFromCategory } from '~/util/color';\nimport { loadClassesForQuery } from '~/util/classes';\nimport { get_day_start_with_offset } from '~/util/time';\nimport {\n  TimePeriod,\n  dateToTimeperiod,\n  timeperiodToStr,\n  timeperiodsHoursOfPeriod,\n  timeperiodsDaysOfPeriod,\n  timeperiodsMonthsOfPeriod,\n  timeperiodsAroundTimeperiod,\n} from '~/util/timeperiod';\n\ninterface QueryOptions {\n  host: string;\n  date?: string;\n  timeperiod?: TimePeriod;\n  filterAFK?: boolean;\n  includeAudible?: boolean;\n  filterCategories?: string[][];\n  force?: boolean;\n}\n\n// initial state\nconst _state = {\n  // set to true once loading has started\n  loaded: false,\n\n  window: {\n    available: false,\n    top_apps: [],\n    top_titles: [],\n  },\n\n  browser: {\n    available: false,\n    duration: [],\n    top_domains: [],\n    top_urls: [],\n  },\n\n  editor: {\n    available: false,\n    duration: [],\n    top_files: [],\n    top_languages: [],\n    top_projects: [],\n  },\n\n  category: {\n    available: false,\n    by_period: [],\n    top: [],\n  },\n\n  active: {\n    available: false,\n    duration: 0,\n    // non-afk events (no detail data) for the current period\n    events: [],\n    // Aggregated events for current and past periods\n    history: {},\n  },\n\n  android: {\n    available: false,\n  },\n\n  query_options: {\n    browser_buckets: 'all',\n    editor_buckets: 'all',\n  },\n\n  buckets: {\n    loaded: false,\n    afk: [],\n    window: [],\n    editor: [],\n    browser: [],\n    android: [],\n  },\n};\n\nfunction timeperiodsStrsHoursOfPeriod(timeperiod: TimePeriod): string[] {\n  return timeperiodsHoursOfPeriod(timeperiod).map(timeperiodToStr);\n}\n\nfunction timeperiodsStrsDaysOfPeriod(timeperiod: TimePeriod): string[] {\n  return timeperiodsDaysOfPeriod(timeperiod).map(timeperiodToStr);\n}\n\nfunction timeperiodsStrsMonthsOfPeriod(timeperiod: TimePeriod): string[] {\n  return timeperiodsMonthsOfPeriod(timeperiod).map(timeperiodToStr);\n}\n\nfunction timeperiodStrsAroundTimeperiod(timeperiod: TimePeriod): string[] {\n  return timeperiodsAroundTimeperiod(timeperiod).map(timeperiodToStr);\n}\n\n// getters\nconst getters = {\n  getActiveHistoryAroundTimeperiod: state => (timeperiod: TimePeriod) => {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod);\n    const _history = periods.map(tp => {\n      if (_.has(state.active.history, tp)) {\n        return state.active.history[tp];\n      } else {\n        // A zero-duration placeholder until new data has been fetched\n        return [{ timestamp: moment(tp.split('/')[0]).format(), duration: 0, data: {} }];\n      }\n    });\n    return _history;\n  },\n};\n\n// actions\nconst actions = {\n  async ensure_loaded({ commit, state, rootState, dispatch }, query_options: QueryOptions) {\n    await dispatch('settings/ensureLoaded', null, { root: true });\n    const startOfDayOffset = rootState.settings.startOfDay;\n\n    console.info('Query options: ', query_options);\n    if (state.loaded) {\n      this._vm.$aw.abort();\n    }\n    if (!state.loaded || state.query_options !== query_options || query_options.force) {\n      commit('start_loading', query_options);\n      if (!query_options.timeperiod) {\n        query_options.timeperiod = dateToTimeperiod(query_options.date, startOfDayOffset);\n      }\n\n      await dispatch('buckets/ensureBuckets', null, { root: true });\n      await dispatch('get_buckets', query_options);\n\n      // TODO: These queries can actually run in parallel, but since server won't process them in parallel anyway we won't.\n      await dispatch('set_available', query_options);\n\n      if (state.window.available) {\n        await dispatch('query_desktop_full', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_android', query_options);\n      } else {\n        console.log(\n          'Cannot query windows as we are missing either an afk/window bucket pair or an android bucket'\n        );\n        await dispatch('reset_window');\n        await dispatch('reset_category');\n      }\n\n      if (state.active.available) {\n        await dispatch('query_active_history', query_options);\n      } else if (state.android.available) {\n        await dispatch('query_active_history_android', query_options);\n      } else {\n        console.log('Cannot call query_active_history as we do not have an afk bucket');\n        await dispatch('query_active_history_empty', query_options);\n      }\n\n      if (state.editor.available) {\n        await dispatch('query_editor', query_options);\n      } else {\n        console.log('Cannot call query_editor as we do not have any editor buckets');\n        await dispatch('reset_editor');\n      }\n\n      if (state.window.available) {\n        // Perform this last, as it takes the longest\n        await dispatch('query_category_time_by_period', query_options);\n      }\n    } else {\n      console.warn(\n        'ensure_loaded called twice with same query_options but without query_options.force = true, skipping...'\n      );\n    }\n  },\n\n  async query_android({ state, commit }, { timeperiod, filterCategories }: QueryOptions) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.appQuery(state.buckets.android[0], classes, filterCategories);\n    const data = await this._vm.$aw.query(periods, q).catch(this.errorHandler);\n    commit('query_window_completed', data[0]);\n  },\n\n  async reset({ dispatch }) {\n    this._vm.$aw.abort();\n    await dispatch('reset_window');\n    await dispatch('reset_browser');\n    await dispatch('reset_editor');\n    await dispatch('reset_category');\n  },\n\n  async reset_window({ commit }) {\n    const data = {\n      app_events: [],\n      title_events: [],\n      cat_events: [],\n      active_events: [],\n      duration: 0,\n    };\n    commit('query_window_completed', data);\n  },\n\n  async reset_browser({ commit }) {\n    const data = {\n      domains: [],\n      urls: [],\n      duration: 0,\n    };\n    commit('query_browser_completed', data);\n  },\n\n  async reset_editor({ commit }) {\n    const data = {\n      files: [],\n      projects: [],\n      languages: [],\n    };\n    commit('query_editor_completed', data);\n  },\n\n  async reset_category({ commit }) {\n    const data = {\n      by_period: [],\n    };\n\n    commit('query_category_time_by_period_completed', data);\n  },\n\n  async query_desktop_full(\n    { state, commit, rootState, rootGetters },\n    { timeperiod, filterCategories, filterAFK, includeAudible }: QueryOptions\n  ) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const classes = loadClassesForQuery();\n    const q = queries.fullDesktopQuery(\n      state.buckets.browser,\n      state.buckets.window[0],\n      state.buckets.afk[0],\n      filterAFK,\n      classes,\n      filterCategories,\n      includeAudible\n    );\n    const data = await this._vm.$aw.query(periods, q);\n\n    const data_window = data[0].window;\n    const data_browser = data[0].browser;\n\n    // Set $color for categories\n    data_window.cat_events = data[0].window['cat_events'].map(e => {\n      const cat = rootGetters['categories/get_category'](e.data['$category']);\n      e.data['$color'] = getColorFromCategory(cat, rootState.categories.classes);\n      return e;\n    });\n\n    commit('query_window_completed', data_window);\n    commit('query_browser_completed', data_browser);\n  },\n\n  async query_editor({ state, commit }, { timeperiod }) {\n    const periods = [timeperiodToStr(timeperiod)];\n    const q = queries.editorActivityQuery(state.buckets.editor);\n    const data = await this._vm.$aw.query(periods, q);\n    commit('query_editor_completed', data[0]);\n  },\n\n  async query_active_history({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(periods, queries.activityQuery(state.buckets.afk[0]));\n    const active_history = _.zipObject(\n      periods,\n      _.map(data, pair => _.filter(pair, e => e.data.status == 'not-afk'))\n    );\n    commit('query_active_history_completed', { active_history });\n  },\n\n  async query_category_time_by_period(\n    { commit, state },\n    {\n      timeperiod,\n      filterCategories,\n      filterAFK,\n      dontQueryInactive,\n    }: QueryOptions & { dontQueryInactive: string }\n  ) {\n    // TODO: Needs to be adapted for Android\n    let periods: string[];\n    if (timeperiod.length[1].startsWith('day')) {\n      periods = timeperiodsStrsHoursOfPeriod(timeperiod);\n    } else if (\n      timeperiod.length[1].startsWith('week') ||\n      timeperiod.length[1].startsWith('month')\n    ) {\n      periods = timeperiodsStrsDaysOfPeriod(timeperiod);\n    } else if (timeperiod.length[1].startsWith('year')) {\n      periods = timeperiodsStrsMonthsOfPeriod(timeperiod);\n    } else {\n      console.error('Unknown timeperiod');\n    }\n\n    const signal = this._vm.$aw.controller.signal;\n    let cancelled = false;\n    signal.onabort = () => {\n      cancelled = true;\n      console.log('Request aborted');\n    };\n\n    const classes = loadClassesForQuery();\n\n    // Query one period at a time, to avoid timeout on slow queries\n    let data = [];\n    for (const period of periods) {\n      // Not stable\n      //signal.throwIfAborted();\n      if (cancelled) {\n        throw signal.reason;\n      }\n\n      // Only query periods with known data from AFK bucket\n      if (dontQueryInactive && state.active.events.length > 0) {\n        const start = new Date(period.split('/')[0]);\n        const end = new Date(period.split('/')[1]);\n\n        // Retrieve active time in period\n        const period_activity = state.active.events.find((e: IEvent) => {\n          return start < new Date(e.timestamp) && new Date(e.timestamp) < end;\n        });\n\n        // Check if there was active time\n        if (!(period_activity && period_activity.duration > 0)) {\n          data = data.concat([{ cat_events: [] }]);\n          continue;\n        }\n      }\n\n      const result = await this._vm.$aw.query(\n        [period],\n        // TODO: Clean up call, pass QueryParams in fullDesktopQuery as well\n        // TODO: Unify QueryOptions and QueryParams\n        queries.categoryQuery({\n          bid_afk: state.buckets.afk[0],\n          bid_window: state.buckets.window[0],\n          bid_browsers: state.buckets.browser,\n          // bid_android: state.buckets.android,\n          classes: classes,\n          filter_afk: filterAFK,\n          filter_classes: filterCategories,\n        })\n      );\n      data = data.concat(result);\n    }\n\n    // Zip periods\n    let by_period = _.zipObject(periods, data);\n    // Filter out values that are undefined (no longer needed, only used when visualization was progressive (looks buggy))\n    by_period = _.fromPairs(_.toPairs(by_period).filter(o => o[1]));\n\n    commit('query_category_time_by_period_completed', { by_period });\n  },\n\n  async query_active_history_android({ commit, state }, { timeperiod }: QueryOptions) {\n    const periods = timeperiodStrsAroundTimeperiod(timeperiod).filter(tp_str => {\n      return !_.includes(state.active.history, tp_str);\n    });\n    const data = await this._vm.$aw.query(\n      periods,\n      queries.activityQueryAndroid(state.buckets.android[0])\n    );\n    const active_history = _.zipObject(periods, data);\n    const active_history_events = _.mapValues(active_history, (duration: number, key): [IEvent] => {\n      return [{ timestamp: key.split('/')[0], duration, data: { status: 'not-afk' } }];\n    });\n    commit('query_active_history_completed', { active_history: active_history_events });\n  },\n\n  async query_active_history_empty({ commit }) {\n    const data = [];\n    commit('query_active_history_completed', data);\n  },\n\n  async set_available({ commit, state }) {\n    const window_available = state.buckets.afk.length > 0 && state.buckets.window.length > 0;\n    const browser_available =\n      state.buckets.afk.length > 0 &&\n      state.buckets.window.length > 0 &&\n      state.buckets.browser.length > 0;\n    const active_available = state.buckets.afk.length > 0;\n    const editor_available = state.buckets.editor.length > 0;\n    const android_available = state.buckets.android.length > 0;\n    commit('set_available', {\n      window_available: window_available,\n      browser_available: browser_available,\n      active_available: active_available,\n      editor_available: editor_available,\n      android_available: android_available,\n    });\n  },\n\n  async get_buckets({ commit, rootGetters }, { host }) {\n    const buckets = {\n      afk: rootGetters['buckets/afkBucketsByHost'](host),\n      window: rootGetters['buckets/windowBucketsByHost'](host),\n      android: rootGetters['buckets/androidBucketsByHost'](host),\n      browser: rootGetters['buckets/browserBuckets'],\n      editor: rootGetters['buckets/editorBuckets'],\n    };\n    console.log('Available buckets: ', buckets);\n    commit('buckets', buckets);\n  },\n\n  async load_demo({ commit, rootState }) {\n    // A function to load some demo data (for screenshots and stuff)\n    commit('start_loading', {});\n\n    function groupSumEventsBy(events, key, f) {\n      return flow(\n        filter(f),\n        groupBy(f),\n        values,\n        map((es: any) => {\n          return { duration: _.sumBy(es, 'duration'), data: { [key]: f(es[0]) } };\n        }),\n        sortBy('duration'),\n        reverse\n      )(events);\n    }\n\n    const app_events = groupSumEventsBy(window_events, 'app', (e: any) => e.data.app);\n    const title_events = groupSumEventsBy(window_events, 'title', (e: any) => e.data.title);\n    const cat_events = groupSumEventsBy(window_events, '$category', (e: any) => e.data.$category);\n    const url_events = groupSumEventsBy(window_events, 'url', (e: any) => e.data.url);\n    const domain_events = groupSumEventsBy(window_events, '$domain', (e: any) =>\n      e.data.url === undefined ? '' : new URL(e.data.url).host\n    );\n\n    commit('query_window_completed', {\n      duration: _.sumBy(window_events, 'duration'),\n      app_events,\n      title_events,\n      cat_events,\n      active_events: [\n        { timestamp: new Date().toISOString(), duration: 1.5 * 60 * 60, data: { afk: 'not-afk' } },\n      ],\n    });\n\n    commit('browser_buckets', ['aw-watcher-firefox']);\n    commit('query_browser_completed', {\n      duration: _.sumBy(url_events, 'duration'),\n      domains: domain_events,\n      urls: url_events,\n    });\n\n    commit('editor_buckets', ['aw-watcher-vim']);\n    commit('query_editor_completed', {\n      duration: 30,\n      files: [{ duration: 10, data: { file: 'test.py' } }],\n      languages: [{ duration: 10, data: { language: 'python' } }],\n      projects: [{ duration: 10, data: { project: 'aw-core' } }],\n    });\n\n    // fetch startOfDay from settings store\n    const startOfDay = rootState.settings.startOfDay;\n\n    function build_active_history() {\n      const active_history = {};\n      let current_day = moment(get_day_start_with_offset(null, startOfDay));\n      _.map(_.range(0, 30), () => {\n        const current_day_end = moment(current_day).add(1, 'day');\n        active_history[`${current_day.format()}/${current_day_end.format()}`] = [\n          {\n            timestamp: current_day.format(),\n            duration: 100 + 900 * Math.random(),\n            data: { status: 'not-afk' },\n          },\n        ];\n        current_day = current_day.add(-1, 'day');\n      });\n      return active_history;\n    }\n    commit('query_active_history_completed', { active_history: build_active_history() });\n  },\n};\n\n// mutations\nconst mutations = {\n  start_loading(state, query_options: QueryOptions) {\n    state.loaded = true;\n    state.query_options = query_options;\n\n    // Resets the store state while waiting for new query to finish\n    state.window.top_apps = null;\n    state.window.top_titles = null;\n\n    state.browser.duration = 0;\n    state.browser.top_domains = null;\n    state.browser.top_urls = null;\n\n    state.editor.duration = 0;\n    state.editor.top_files = null;\n    state.editor.top_languages = null;\n    state.editor.top_projects = null;\n\n    state.category.top = null;\n    state.category.by_period = null;\n\n    state.active.duration = null;\n\n    // Ensures that active history isn't being fully reloaded on every date change\n    // (see caching done in query_active_history and query_active_history_android)\n    // FIXME: Better detection of when to actually clear (such as on force reload, hostname change)\n    if (Object.keys(state.active.history).length === 0) {\n      state.active.history = {};\n    }\n  },\n\n  set_available(state, data) {\n    state.window.available = data['window_available'];\n    state.browser.available = data['browser_available'];\n    state.active.available = data['active_available'];\n    state.editor.available = data['editor_available'];\n    state.category.available = data['window_available'] || data['android_available'];\n    state.android.available = data['android_available'];\n  },\n\n  query_window_completed(state, data) {\n    state.window.top_apps = data['app_events'];\n    state.window.top_titles = data['title_events'];\n    state.category.top = data['cat_events'];\n    state.active.duration = data['duration'];\n    state.active.events = data['active_events'];\n  },\n\n  query_browser_completed(state, data) {\n    state.browser.top_domains = data.domains;\n    state.browser.top_urls = data.urls;\n    state.browser.duration = data.duration;\n\n    // FIXME: This one might take up a lot of size in the request, move it to a seperate request\n    // (or remove entirely, since we have the other timeline now)\n    state.web_chunks = data['chunks'];\n  },\n\n  query_editor_completed(state, data) {\n    state.editor.duration = data['duration'];\n    state.editor.top_files = data['files'];\n    state.editor.top_languages = data['languages'];\n    state.editor.top_projects = data['projects'];\n  },\n\n  query_active_history_completed(state, { active_history }) {\n    state.active.history = {\n      ...state.active.history,\n      ...active_history,\n    };\n  },\n\n  query_category_time_by_period_completed(state, { by_period }) {\n    state.category.by_period = by_period;\n  },\n\n  buckets(state, data) {\n    state.buckets = data;\n    state.buckets.loaded = true;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","const _ = require('lodash');\n\n// initial state\nconst state = {\n  buckets: [],\n};\n\nfunction get_buckets_by_type(buckets, type) {\n  return _.map(\n    _.filter(buckets, bucket => bucket['type'] === type),\n    bucket => bucket['id']\n  );\n}\n\nfunction get_buckets_by_host_and_type(buckets, host, type) {\n  return _.map(\n    _.filter(buckets, bucket => bucket['type'] === type && bucket['hostname'] == host),\n    bucket => bucket['id']\n  );\n}\n\n// getters\nconst getters = {\n  hosts: state => {\n    // TODO: Include consideration of device_id UUID\n    return _.uniq(_.map(state.buckets, bucket => bucket['hostname']));\n  },\n  // Uses device_id instead of hostname\n  devices: state => {\n    // TODO: Include consideration of device_id UUID\n    return _.uniq(_.map(state.buckets, bucket => bucket['device_id']));\n  },\n  afkBucketsByHost: state => host => {\n    return get_buckets_by_host_and_type(state.buckets, host, 'afkstatus');\n  },\n  windowBucketsByHost: state => host => {\n    return _.filter(\n      get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'),\n      id => !id.startsWith('aw-watcher-android')\n    );\n  },\n  androidBucketsByHost: state => host => {\n    return _.filter(get_buckets_by_host_and_type(state.buckets, host, 'currentwindow'), id =>\n      id.startsWith('aw-watcher-android')\n    );\n  },\n  editorBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'app.editor.activity');\n  },\n  browserBuckets(state) {\n    return get_buckets_by_type(state.buckets, 'web.tab.current');\n  },\n  getBucket: state => id => _.filter(state.buckets, b => b.id === id)[0],\n  bucketsByHostname: state => _.groupBy(state.buckets, 'hostname'),\n  getHostnames: state => _.map(state.buckets, 'hostname'),\n};\n\n// actions\nconst actions = {\n  async ensureBuckets({ state, dispatch }) {\n    if (state.buckets.length === 0) {\n      await dispatch('loadBuckets');\n    }\n  },\n\n  async loadBuckets({ commit }) {\n    const buckets = await this._vm.$aw.getBuckets();\n    commit('update_buckets', buckets);\n  },\n\n  async getBucketWithEvents({ getters, dispatch }, { id, start, end }) {\n    await dispatch('ensureBuckets');\n    const bucket = _.cloneDeep(getters.getBucket(id));\n    bucket.events = await this._vm.$aw.getEvents(bucket.id, {\n      start,\n      end,\n      limit: -1,\n    });\n    return bucket;\n  },\n\n  async getBucketsWithEvents({ state, dispatch }, { start, end }) {\n    await dispatch('ensureBuckets');\n    const buckets = await Promise.all(\n      _.map(\n        state.buckets,\n        async bucket => await dispatch('getBucketWithEvents', { id: bucket.id, start, end })\n      )\n    );\n    return _.orderBy(buckets, [b => b.id], ['asc']);\n  },\n\n  async deleteBucket({ dispatch }, { bucketId }) {\n    console.log(`Deleting bucket ${bucketId}`);\n    await this._vm.$aw.deleteBucket(bucketId);\n    await dispatch('loadBuckets');\n  },\n};\n\n// mutations\nconst mutations = {\n  update_buckets(state, buckets) {\n    state.buckets = buckets;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: state,\n  getters,\n  actions,\n  mutations,\n};\n","import _ from 'lodash';\nimport {\n  saveClasses,\n  loadClasses,\n  defaultCategories,\n  build_category_hierarchy,\n  createMissingParents,\n  annotate,\n} from '~/util/classes';\n\n// initial state\nconst _state = {\n  classes: [],\n  classes_unsaved_changes: false,\n};\n\n// getters\nconst getters = {\n  classes_hierarchy: state => {\n    const hier = build_category_hierarchy(_.cloneDeep(state.classes));\n    return _.sortBy(hier, [c => c.id || 0]);\n  },\n  all_categories: state => {\n    // Returns a list of category names (a list of list of strings)\n    return _.uniqBy(\n      _.flatten(\n        state.classes.map(c => {\n          const l = [];\n          for (let i = 1; i <= c.name.length; i++) {\n            l.push(c.name.slice(0, i));\n          }\n          return l;\n        })\n      ),\n      v => v.join('>>>>') // Can be any separator that doesn't appear in the category names themselves\n    );\n  },\n  get_category: state => category_arr => {\n    if (typeof category_arr === 'string' || category_arr instanceof String)\n      console.error('Passed category was string, expected array. Lookup will fail.');\n\n    const match = state.classes.find(c => _.isEqual(c.name, category_arr));\n    if (!match) {\n      if (!_.equals(category_arr, ['Uncategorized']))\n        console.error(\"Couldn't find category: \", category_arr);\n      // fallback\n      return { name: ['Uncategorized'] };\n    }\n    return annotate(_.cloneDeep(match));\n  },\n  get_category_by_id: state => id => {\n    return annotate(_.cloneDeep(state.classes.find(c => c.id == id)));\n  },\n  category_select: (state, getters) => insertMeta => {\n    // Useful for <select> elements enumerating categories\n    let cats = getters.all_categories;\n    cats = cats\n      .map(c => {\n        return { text: c.join(' > '), value: c };\n      })\n      .sort((a, b) => a.text > b.text);\n    if (insertMeta) {\n      cats = [\n        { text: 'All', value: null },\n        { text: 'Uncategorized', value: ['Uncategorized'] },\n      ].concat(cats);\n    }\n    return cats;\n  },\n};\n\n// actions\nconst actions = {\n  async load({ commit }) {\n    commit('loadClasses', await loadClasses());\n  },\n  async save({ state, commit }) {\n    const r = await saveClasses(state.classes);\n    commit('saveCompleted');\n    return r;\n  },\n};\n\n// mutations\nconst mutations = {\n  loadClasses(state, classes) {\n    classes = createMissingParents(classes);\n\n    let i = 0;\n    state.classes = classes.map(c => Object.assign(c, { id: i++ }));\n    state.classes_unsaved_changes = false;\n  },\n  import(state, classes) {\n    let i = 0;\n    // overwrite id even if already set\n    state.classes = classes.map(c => Object.assign(c, { id: i++ }));\n    state.classes_unsaved_changes = true;\n  },\n  updateClass(state, new_class) {\n    console.log('Updating class:', new_class);\n    const old_class = state.classes.find(c => c.id === new_class.id);\n    const old_name = old_class.name;\n    const parent_depth = old_class.name.length;\n\n    if (new_class.id === undefined || new_class.id === null) {\n      new_class.id = _.max(_.map(state.classes, 'id')) + 1;\n      state.classes.push(new_class);\n    } else {\n      Object.assign(old_class, new_class);\n    }\n\n    // When a parent category is renamed, we also need to rename the children\n    _.map(state.classes, c => {\n      if (_.isEqual(old_name, c.name.slice(0, parent_depth))) {\n        c.name = new_class.name.concat(c.name.slice(parent_depth));\n        console.log('Renamed child:', c.name);\n      }\n    });\n\n    state.classes_unsaved_changes = true;\n  },\n  addClass(state, new_class) {\n    new_class.id = _.max(_.map(state.classes, 'id')) + 1;\n    state.classes.push(new_class);\n    state.classes_unsaved_changes = true;\n  },\n  removeClass(state, classId) {\n    state.classes = state.classes.filter(c => c.id !== classId);\n    state.classes_unsaved_changes = true;\n  },\n  restoreDefaultClasses(state) {\n    let i = 0;\n    state.classes = createMissingParents(defaultCategories).map(c => Object.assign(c, { id: i++ }));\n    state.classes_unsaved_changes = true;\n  },\n  clearAll(state) {\n    state.classes = [];\n    state.classes_unsaved_changes = true;\n  },\n  saveCompleted(state) {\n    state.classes_unsaved_changes = false;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","interface IElement {\n  type: string;\n  size?: number;\n  props?: Record<string, unknown>;\n}\n\ninterface View {\n  id: string;\n  name: string;\n  elements: IElement[];\n}\n\nconst desktopViews: View[] = [\n  {\n    id: 'summary',\n    name: 'Summary',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_titles', size: 3 },\n      { type: 'timeline_barchart', size: 3 },\n      { type: 'top_categories', size: 3 },\n      { type: 'category_tree', size: 3 },\n      { type: 'category_sunburst', size: 3 },\n    ],\n  },\n  {\n    id: 'window',\n    name: 'Window',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_titles', size: 3 },\n    ],\n  },\n  {\n    id: 'browser',\n    name: 'Browser',\n    elements: [\n      { type: 'top_domains', size: 3 },\n      { type: 'top_urls', size: 3 },\n    ],\n  },\n  {\n    id: 'editor',\n    name: 'Editor',\n    elements: [\n      { type: 'top_editor_files', size: 3 },\n      { type: 'top_editor_projects', size: 3 },\n      { type: 'top_editor_languages', size: 3 },\n    ],\n  },\n];\n\nconst androidViews = [\n  {\n    id: 'summary',\n    name: 'Summary',\n    elements: [\n      { type: 'top_apps', size: 3 },\n      { type: 'top_categories', size: 3 },\n      { type: 'timeline_barchart', size: 3 },\n      { type: 'category_tree', size: 3 },\n      { type: 'category_sunburst', size: 3 },\n    ],\n  },\n];\n\n// FIXME: Decide depending on what kind of device is being viewed, not from which device it is being viewed.\nconst defaultViews = !process.env.VUE_APP_ON_ANDROID ? desktopViews : androidViews;\n\ninterface State {\n  views: View[];\n}\n\n// initial state\nconst _state: State = {\n  views: [],\n};\n\n// getters\nconst getters = {};\n\n// actions\nconst actions = {\n  async load({ commit }) {\n    let views: View[];\n    if (typeof localStorage !== 'undefined') {\n      const views_json = localStorage.views;\n      if (views_json && views_json.length >= 1) {\n        views = JSON.parse(views_json);\n      }\n    }\n    if (!views) {\n      views = defaultViews;\n    }\n    commit('loadViews', views);\n  },\n  async save({ state, dispatch }) {\n    localStorage.views = JSON.stringify(state.views);\n    // After save, reload views from localStorage\n    await dispatch('load');\n  },\n};\n\n// mutations\nconst mutations = {\n  loadViews(state: State, views: View[]) {\n    state.views = views;\n    console.log('Loaded views:', state.views);\n  },\n  clearViews(state: State) {\n    state.views = [];\n  },\n  setElements(state: State, { view_id, elements }) {\n    state.views.find(v => v.id == view_id).elements = elements;\n  },\n  restoreDefaults(state: State) {\n    state.views = defaultViews;\n  },\n  addView(state: State, view: View) {\n    state.views.push({ ...view, elements: [] });\n  },\n  removeView(state: State, { view_id }) {\n    const idx = state.views.map(v => v.id).indexOf(view_id);\n    state.views.splice(idx, 1);\n  },\n  editView(state: State, { view_id, el_id, type, props }) {\n    console.log(view_id, el_id, type, props);\n    console.log(state.views);\n    const element = state.views.find(v => v.id == view_id).elements[el_id];\n    element.type = type;\n    element.props = props;\n  },\n  addVisualization(state: State, { view_id, type }) {\n    state.views.find(v => v.id == view_id).elements.push({ type: type });\n  },\n  removeVisualization(state: State, { view_id, el_id }) {\n    state.views.find(v => v.id == view_id).elements.splice(el_id, 1);\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  getters,\n  actions,\n  mutations,\n};\n","interface State {\n  info?: {\n    hostname: string;\n    device_id: string;\n    version: string;\n    testing: string;\n  };\n}\n\n// initial state, default settings\nconst _state: State = {\n  info: null,\n};\n\n// actions\nconst actions = {\n  async getInfo({ commit }) {\n    try {\n      const info = await this._vm.$aw.getInfo();\n      commit('setInfo', info);\n    } catch (e) {\n      console.error('Unable to connect: ', e);\n    }\n  },\n};\n\n// mutations\nconst mutations = {\n  setInfo(state: State, info: any) {\n    state.info = info;\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: _state,\n  actions,\n  mutations,\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport activity from './modules/activity';\nimport buckets from './modules/buckets';\nimport settings from './modules/settings';\nimport categories from './modules/categories';\nimport views from './modules/views';\nimport server from './modules/server';\n//import createLogger from '../../../src/plugins/logger';\n\nVue.use(Vuex);\n\nconst debug = process.env.NODE_ENV !== 'production';\n\nexport default new Vuex.Store({\n  modules: {\n    activity,\n    buckets,\n    settings,\n    categories,\n    views,\n    server,\n  },\n  strict: debug,\n  //  plugins: debug ? [createLogger()] : [],\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"wrapper\"}},[_c('aw-header'),_c('div',{staticClass:\"px-0 px-md-2\",class:{'container': !_vm.fullContainer, 'container-fluid': _vm.fullContainer}},[_c('div',{staticClass:\"aw-container my-3 p-3\"},[_c('error-boundary',[_c('user-satisfaction-poll'),(_vm.isNewReleaseCheckEnabled)?_c('new-release-notification'):_vm._e(),_c('router-view')],1)],1)]),_c('aw-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv#wrapper\n  aw-header\n\n  div(:class=\"{'container': !fullContainer, 'container-fluid': fullContainer}\").px-0.px-md-2\n    div.aw-container.my-3.p-3\n      error-boundary\n        user-satisfaction-poll\n        new-release-notification(v-if=\"isNewReleaseCheckEnabled\")\n        router-view\n\n  aw-footer\n</template>\n\n<script>\nexport default {\n  data: function () {\n    return {\n      activityViews: [],\n      isNewReleaseCheckEnabled: !process.env.VUE_APP_ON_ANDROID,\n    };\n  },\n\n  computed: {\n    fullContainer() {\n      return this.$route.meta.fullContainer;\n    },\n  },\n\n  beforeCreate() {\n    // Get Theme From LocalStorage\n    const theme = localStorage.getItem('theme');\n    // Check Application Mode (Light | Dark)\n    if (theme !== null && theme === 'dark') {\n      // Create Dark Theme Element\n      const themeLink = document.createElement('link');\n      themeLink.href = '/static/dark.css';\n      themeLink.rel = 'stylesheet';\n      // Append Dark Theme Element If Selected Mode Is Dark\n      theme === 'dark' ? document.querySelector('head').appendChild(themeLink) : '';\n    }\n  },\n\n  mounted: async function () {\n    // Load settings\n    // TODO: Move fetch of server-side settings to after getInfo\n    await this.$store.dispatch('settings/ensureLoaded');\n    await this.$store.dispatch('server/getInfo');\n  },\n};\n</script>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9c417056&lang=pug&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import 'core-js/stable';\nimport 'regenerator-runtime/runtime';\n\nimport Vue from 'vue';\n\n// Load the Bootstrap CSS\nimport BootstrapVue from 'bootstrap-vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nVue.use(BootstrapVue);\n\nimport { Datetime } from 'vue-datetime';\nimport 'vue-datetime/dist/vue-datetime.css';\nVue.component('datetime', Datetime);\n\n// Load the Varela Round font\nimport 'typeface-varela-round';\n\nimport './style/style.scss';\n\n// Loads all the filters\nimport './util/filters.js';\n\n// Create an instance of AWClient as this.$aw\nimport awclient from './util/awclient.js';\nVue.prototype.$aw = awclient;\n\n// Sets up the routing and the base app (using vue-router)\nimport router from './route.js';\n\n// Sets up the vuex store\nimport store from './store';\n\n// Register Font Awesome icon component\nVue.component('icon', () => import('vue-awesome/components/Icon'));\n\n// General components\nVue.component('error-boundary', () => import('./components/ErrorBoundary.vue'));\nVue.component('input-timeinterval', () => import('./components/InputTimeInterval.vue'));\nVue.component('aw-header', () => import('./components/Header.vue'));\nVue.component('aw-footer', () => import('./components/Footer.vue'));\nVue.component('aw-devonly', () => import('./components/DevOnly.vue'));\nVue.component('aw-selectable-vis', () => import('./components/SelectableVisualization.vue'));\nVue.component('aw-selectable-eventview', () => import('./components/SelectableEventView.vue'));\nVue.component('new-release-notification', () => import('./components/NewReleaseNotification.vue'));\nVue.component('user-satisfaction-poll', () => import('./components/UserSatisfactionPoll.vue'));\nVue.component('aw-query-options', () => import('./components/QueryOptions.vue'));\nVue.component('aw-select-categories', () => import('./components/SelectCategories.vue'));\nVue.component('aw-select-categories-or-pattern', () =>\n  import('./components/SelectCategoriesOrPattern.vue')\n);\n\n// Visualization components\nVue.component('aw-summary', () => import('./visualizations/Summary.vue'));\nVue.component('aw-periodusage', () => import('./visualizations/PeriodUsage.vue'));\nVue.component('aw-eventlist', () => import('./visualizations/EventList.vue'));\nVue.component('aw-sunburst-categories', () => import('./visualizations/SunburstCategories.vue'));\nVue.component('aw-sunburst-clock', () => import('./visualizations/SunburstClock.vue'));\nVue.component('aw-timeline-inspect', () => import('./visualizations/TimelineInspect.vue'));\nVue.component('aw-timeline', () => import('./visualizations/TimelineSimple.vue'));\nVue.component('vis-timeline', () => import('./visualizations/VisTimeline.vue'));\nVue.component('aw-categorytree', () => import('./visualizations/CategoryTree.vue'));\nVue.component('aw-timeline-barchart', () => import('./visualizations/TimelineBarChart.vue'));\nVue.component('aw-calendar', () => import('./visualizations/Calendar.vue'));\nVue.component('aw-custom-vis', () => import('./visualizations/CustomVisualization.vue'));\n\n// A mixin to make async method errors propagate\nVue.mixin(require('~/mixins/asyncErrorCaptured.js'));\n\n// Set the PRODUCTION constant\n// FIXME: Thould follow Vue convention and start with a $.\nVue.prototype.PRODUCTION = PRODUCTION;\n\n// Set the $isAndroid constant\nVue.prototype.$isAndroid = process.env.VUE_APP_ON_ANDROID;\n\n// Setup Vue app\nimport App from './App';\nnew Vue({\n  el: '#app',\n  router: router,\n  render: h => h(App),\n  store,\n});\n","// This mixin fixes following issue: errorHandler does not work with async component methods.\n// Fixing that issue is required for the ErrorBoundary component to work correctly.\n//\n// First I tried https://github.com/vuejs/vue/issues/7653\n// That didn't work, so I then tried: https://markeev.com/posts/vue-error-handling/\n// Which seems to work! (as long as you mark all functions as async and use await properly)\n\nfunction handleError(error, vm, info) {\n  let cur = vm;\n  while ((cur = cur.$parent)) {\n    const hooks = cur.$options.errorCaptured || [];\n    for (const hook of hooks) if (hook.call(cur, error, vm, info) === false) break;\n  }\n}\n\nexport default {\n  beforeCreate: function () {\n    const that = this;\n    const methods = this.$options.methods || {};\n    for (const key in methods) {\n      const original = methods[key];\n      methods[key] = function (...args) {\n        try {\n          const result = original.apply(this, args);\n          // let's analyse what is returned from the method\n          if (result && typeof result.then === 'function' && typeof result.catch === 'function') {\n            // this looks like a Promise. let's handle it's errors:\n            return result.catch(function (err) {\n              handleError(err, that, key);\n            });\n          } else return result;\n        } catch (e) {\n          handleError(e, that, key);\n        }\n      };\n    }\n  },\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"18\":\"229cdd19\",\"36\":\"a322e5b9\",\"58\":\"f735a5c1\",\"85\":\"9dd8dbc3\",\"96\":\"f6d5e361\",\"124\":\"30dd1921\",\"139\":\"39a32c27\",\"161\":\"f9ee5d13\",\"171\":\"d63e53cc\",\"176\":\"c5b48710\",\"199\":\"cbbd314b\",\"210\":\"0ecb564b\",\"213\":\"40713c18\",\"223\":\"883ed082\",\"278\":\"b3c8ab05\",\"279\":\"73dfbe4b\",\"313\":\"d79f8ba2\",\"340\":\"a3175e46\",\"371\":\"c008bc05\",\"391\":\"6a322521\",\"407\":\"968685c9\",\"423\":\"453b003b\",\"433\":\"fd7d1036\",\"459\":\"b1783b9f\",\"553\":\"aa191725\",\"574\":\"f3a41507\",\"575\":\"4a87b662\",\"612\":\"2d51b117\",\"699\":\"a7845881\",\"723\":\"c01b53ac\",\"734\":\"e675d5f5\",\"740\":\"de7e9090\",\"749\":\"22598b79\",\"753\":\"b6b4d560\",\"765\":\"ff5af41d\",\"776\":\"3862854d\",\"821\":\"e71a60b5\",\"882\":\"19457f50\",\"967\":\"e102c6ec\",\"989\":\"528b58b7\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"18\":\"dc7b4247\",\"96\":\"0e21fe03\",\"139\":\"380cc15a\",\"161\":\"d869ca6d\",\"171\":\"59588211\",\"176\":\"0e21fe03\",\"223\":\"cfb4499d\",\"278\":\"2c4d9af6\",\"279\":\"40b3d36d\",\"340\":\"b8a4b011\",\"371\":\"547af20e\",\"433\":\"8e066774\",\"553\":\"2d84da73\",\"574\":\"e83a16a0\",\"575\":\"2a52bcac\",\"612\":\"0e21fe03\",\"723\":\"273e7d95\",\"740\":\"6b7961c6\",\"753\":\"0e21fe03\",\"765\":\"aa761ac0\",\"776\":\"7ef8e18d\",\"967\":\"0e21fe03\",\"989\":\"0e21fe03\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"aw-webui:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","var createStylesheet = (chunkId, fullhref, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tdocument.head.appendChild(linkTag);\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"18\":1,\"96\":1,\"139\":1,\"161\":1,\"171\":1,\"176\":1,\"223\":1,\"278\":1,\"279\":1,\"340\":1,\"371\":1,\"433\":1,\"553\":1,\"574\":1,\"575\":1,\"612\":1,\"723\":1,\"740\":1,\"753\":1,\"765\":1,\"776\":1,\"967\":1,\"989\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkaw_webui\"] = self[\"webpackChunkaw_webui\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], () => (__webpack_require__(99853)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["querystr_to_array","querystr","split","map","s","trim","filter","escape_doublequote","replace","isDesktopParams","object","isAndroidParams","canonicalEvents","params","classes_str","JSON","stringify","classes","cat_filter_str","filter_classes","bid_window","bid_android","bid_afk","bid_browsers","browserEvents","include_audible","filter_afk","join","default_limit","appQuery","appbucket","filterCategories","code","browser_appnames","chrome","firefox","opera","brave","edge","vivaldi","browsersWithBuckets","browserbuckets","browsername_to_bucketid","Object","keys","browserName","bucketId","bucket_id","undefined","browser_appnames_str","fullDesktopQuery","windowbucket","afkbucket","filterAFK","editorActivityQuery","editorbuckets","q","editorbucket","push","concat","activityQuery","activityQueryAndroid","androidbucket","categoryQuery","SHORT_BACKOFF_PERIOD","LONG_BACKOFF_PERIOD","_state","initialTimestamp","moment","startOfDay","durationDefault","useColorFallback","landingpage","theme","newReleaseCheckData","isEnabled","nextCheckTime","add","howOftenToCheck","timesChecked","userSatisfactionPollData","devmode","_loaded","getters","loaded","state","actions","ensureLoaded","dispatch","load","commit","localStorage","console","error","key","storage","prototype","hasOwnProperty","call","startsWith","value","getItem","includes","parse","e","save","setItem","update","new_state","log","mutations","setState","namespaced","level_sep","CLASSIFY_KEYS","UNCATEGORIZED","COLOR_UNCAT","defaultCategories","name","rule","type","regex","data","color","ignore_case","annotate","c","ch","name_pretty","subname","slice","parent","length","depth","createMissingParents","all_full_names","Set","_createMissing","children","p","has","new_parent","build_category_hierarchy","assignChildren","classes_at_level","cls","child","flatten_category_hierarchy","hier","h","level","saveClasses","loadClasses","classes_json","loadClassesForQuery","pickDeepest","categories","matchString","str","regexes","re","RegExp","matchingCats","test","classifyEvents","events","some","x","category","$category","scale","d3","domain","customColors","afk","hibernating","chromium","spotify","alacritty","vue","python","javascript","localhost","Color","lighten","uncategorized","hashcode","hash","i","character","charCodeAt","getColorFromString","appname","toLowerCase","Math","abs","toString","getColorFromCategory","allCats","parentCat","find","cc","getCategoryColorFromString","fallbackColor","getTitleAttr","bucket","app","status","file","label","title","URL","url","hostname","err","seconds_to_duration","seconds","hrs","floor","min","sec","l","friendlydate","timestamp","now","m","sinceNow","diff","asSeconds","round","humanize","get_day_start_with_offset","dateParam","offset","dateMoment","startOf","start_of_day_hours","parseInt","start_of_day_minutes","hour","minute","format","get_hour_offset","get_day_end_with_offset","date","get_day_period","get_prev_day","datestr","get_next_day","get_offset_duration","hours","minutes","Number","get_today_with_offset","offset_dur","subtract","dateToTimeperiod","duration","start","timeperiodToStr","tp","end","dateformat","periodLength","periodReadable","timeperiod","periodLengthConvertMoment","timeperiodsAroundTimeperiod","periods","timeperiodsHoursOfPeriod","_length","timeperiodsDaysOfPeriod","count","daysInMonth","timeperiodsMonthsOfPeriod","Vue","orderBy","baseURL","awc","AWClient","testing","Home","Activity","ActivityView","Buckets","Bucket","QueryExplorer","Timeline","Trends","Settings","Stopwatch","Alerts","Search","Report","Dev","NotFound","VueRouter","router","routes","path","redirect","_to","component","props","meta","subview","fullContainer","window_events","window","available","top_apps","top_titles","browser","top_domains","top_urls","editor","top_files","top_languages","top_projects","by_period","top","active","history","android","query_options","browser_buckets","editor_buckets","buckets","timeperiodsStrsHoursOfPeriod","timeperiodsStrsDaysOfPeriod","timeperiodsStrsMonthsOfPeriod","timeperiodStrsAroundTimeperiod","getActiveHistoryAroundTimeperiod","_history","ensure_loaded","rootState","root","startOfDayOffset","settings","info","_vm","$aw","abort","force","warn","query_android","queries","query","errorHandler","reset","reset_window","app_events","title_events","cat_events","active_events","reset_browser","domains","urls","reset_editor","files","projects","languages","reset_category","query_desktop_full","rootGetters","includeAudible","data_window","data_browser","cat","query_editor","query_active_history","tp_str","active_history","pair","query_category_time_by_period","dontQueryInactive","signal","controller","cancelled","onabort","period","reason","Date","period_activity","result","o","query_active_history_android","active_history_events","query_active_history_empty","set_available","window_available","browser_available","active_available","editor_available","android_available","get_buckets","host","load_demo","groupSumEventsBy","build_active_history","current_day","current_day_end","random","f","es","url_events","domain_events","toISOString","language","project","start_loading","query_window_completed","query_browser_completed","web_chunks","query_editor_completed","query_active_history_completed","query_category_time_by_period_completed","_","require","get_buckets_by_type","get_buckets_by_host_and_type","hosts","uniq","devices","afkBucketsByHost","windowBucketsByHost","id","androidBucketsByHost","editorBuckets","browserBuckets","getBucket","b","bucketsByHostname","groupBy","getHostnames","ensureBuckets","loadBuckets","getBuckets","getBucketWithEvents","cloneDeep","getEvents","limit","getBucketsWithEvents","Promise","all","deleteBucket","update_buckets","classes_unsaved_changes","classes_hierarchy","all_categories","v","get_category","category_arr","String","match","get_category_by_id","category_select","insertMeta","cats","text","sort","a","r","assign","updateClass","new_class","old_class","old_name","parent_depth","addClass","removeClass","classId","restoreDefaultClasses","clearAll","saveCompleted","desktopViews","elements","size","defaultViews","views","views_json","loadViews","clearViews","setElements","view_id","restoreDefaults","addView","view","removeView","idx","indexOf","splice","editView","el_id","element","addVisualization","removeVisualization","getInfo","setInfo","Vuex","debug","process","modules","activity","server","strict","render","this","_h","$createElement","_c","_self","attrs","staticClass","class","_e","staticRenderFns","activityViews","isNewReleaseCheckEnabled","computed","$route","beforeCreate","themeLink","href","rel","document","querySelector","appendChild","mounted","BootstrapVue","Datetime","awclient","PRODUCTION","el","App","store","handleError","vm","cur","$parent","hooks","$options","errorCaptured","hook","that","methods","original","args","apply","then","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","n","getter","__esModule","d","definition","defineProperty","enumerable","get","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","inProgress","dataWebpackPrefix","done","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","setTimeout","bind","target","head","Symbol","toStringTag","nmd","paths","createStylesheet","fullhref","resolve","reject","linkTag","onLinkComplete","errorType","realHref","Error","request","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}