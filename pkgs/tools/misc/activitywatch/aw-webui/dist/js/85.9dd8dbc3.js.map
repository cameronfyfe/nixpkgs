{"version":3,"file":"js/85.9dd8dbc3.js","mappings":"uIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACA,EAAG,gBAAgB,CAACE,MAAM,CAACC,MAAOP,EAAQ,KAAEQ,SAAS,SAAUC,GAAMT,EAAIU,KAAKD,GAAKE,WAAW,SAAS,CAACP,EAAG,SAAS,CAACQ,MAAM,CAAC,MAAQ,WAAW,CAACZ,EAAIa,GAAG,kBAAkBT,EAAG,SAAS,CAACQ,MAAM,CAAC,MAAQ,eAAe,CAACZ,EAAIa,GAAG,gCAAgC,GAAGT,EAAG,gBAAgB,CAAc,cAAZJ,EAAIU,KAAsBN,EAAG,uBAAuB,CAACE,MAAM,CAACC,MAAOP,EAAwB,qBAAEQ,SAAS,SAAUC,GAAMT,EAAIc,qBAAqBL,GAAKE,WAAW,0BAA0BX,EAAIe,KAAkB,UAAZf,EAAIU,KAAkBN,EAAG,UAAU,CAACQ,MAAM,CAAC,YAAc,+BAA+BI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAActB,EAAIuB,aAAajB,MAAM,CAACC,MAAOP,EAAW,QAAEQ,SAAS,SAAUC,GAAMT,EAAIwB,QAAQf,GAAKE,WAAW,aAAaX,EAAIe,KAAKX,EAAG,uBAAuB,CAACJ,EAAIyB,GAAG,uBAAuB,IAAI,IAAI,IACz+BC,EAAkB,G,+HCmBhBC,EAAM,MAEZ,QAAeC,EAAAA,WAAAA,OAAW,CACxBC,KAAM,4BACNC,MAAO,CACLC,iBAAkB,CAChBb,KAAMc,MACNC,QAAS,iBAAM,MAGnBC,KARwB,WAStB,MAAO,CACLxB,KAAM,aACNc,QAAS,GACTV,qBAAsB,KAG1BqB,SAAU,CACRC,WAAY,WACV,OAAOnC,KAAKoC,OAAOC,MAAMF,WAAWG,SAGtCC,oBALQ,WAKW,WACjB,MAAkB,eAAdvC,KAAKS,KAEAT,KAAKmC,WACTK,QAAO,SAAAC,GACN,IADY,EACNb,EAAOa,EAAIb,KAAKc,KAAKhB,GADf,UAEY,EAAKb,sBAFjB,IAEZ,2BAAmD,KAAxC8B,EAAwC,QACjD,GAAIf,EAAKgB,SAASD,EAAUD,KAAKhB,IAC/B,OAAO,GAJC,8BAOZ,OAAO,KAERc,QAAO,SAAAC,GAAG,MAAsB,UAAlBA,EAAII,KAAK5B,QACvB6B,KAAI,SAAAL,GAAG,MAAI,CAACA,EAAIb,KAAMa,EAAII,SACN,WAAd7C,KAAKS,KACP,CAAC,CAAC,CAAC,YAAa,CAAEQ,KAAM,QAAS8B,MAAO/C,KAAKuB,YAEpDyB,QAAQC,MAAM,gBAAiBjD,KAAKS,MAC7B,MAIbyC,MAAO,CACLpB,iBADK,WAEH9B,KAAKa,qBAAL,kBAAgCb,KAAKa,uBAArC,OAA8Db,KAAK8B,oBAErEjB,qBAJK,WAKHb,KAAKmD,MAAM,QAASnD,KAAKuC,qBACzBS,QAAQI,IAAIpD,KAAKuC,sBAEnBhB,QARK,WASHvB,KAAKmD,MAAM,QAASnD,KAAKuC,qBACzBS,QAAQI,IAAIpD,KAAKuC,uBAGfc,QAxDkB,WAwDX,gKACL,EAAKjB,OAAOkB,SAAS,mBADhB,gDC9EoV,I,cCO/VC,GAAY,OACd,EACAzD,EACA2B,GACA,EACA,KACA,KACA,MAIF,QAAe8B,EAAiB,S,yDCjBjB,SAASC,EAAmBC,GACzC,GAAI1B,MAAM2B,QAAQD,GAAM,OAAOE,EAAAA,EAAAA,GAAiBF,G,+DCFnC,SAASG,EAAiBC,GACvC,GAAsB,qBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAO9B,MAAMiC,KAAKH,G,iCCDvG,SAASI,IACtB,MAAM,IAAIC,UAAU,wICGP,SAASC,EAAmBV,GACzC,OAAOW,EAAkBX,IAAQY,EAAgBZ,KAAQa,EAAAA,EAAAA,GAA2Bb,IAAQc","sources":["webpack://aw-webui/./src/components/SelectCategoriesOrPattern.vue?2617","webpack://aw-webui/./src/components/SelectCategoriesOrPattern.vue?139d","webpack://aw-webui/./src/components/SelectCategoriesOrPattern.vue?285a","webpack://aw-webui/./src/components/SelectCategoriesOrPattern.vue","webpack://aw-webui/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://aw-webui/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://aw-webui/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://aw-webui/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form-group',[_c('b-form-select',{model:{value:(_vm.mode),callback:function ($$v) {_vm.mode=$$v},expression:\"mode\"}},[_c('option',{attrs:{\"value\":\"custom\"}},[_vm._v(\"Custom regex\")]),_c('option',{attrs:{\"value\":\"categories\"}},[_vm._v(\"Use existing categories\")])])],1),_c('b-input-group',[(_vm.mode == 'categories')?_c('aw-select-categories',{model:{value:(_vm.filterCategoriesData),callback:function ($$v) {_vm.filterCategoriesData=$$v},expression:\"filterCategoriesData\"}}):_vm._e(),(_vm.mode == 'custom')?_c('b-input',{attrs:{\"placeholder\":\"Regex pattern to search for\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.generate()}},model:{value:(_vm.pattern),callback:function ($$v) {_vm.pattern=$$v},expression:\"pattern\"}}):_vm._e(),_c('b-input-group-append',[_vm._t(\"input-group-append\")],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nconst SEP = ' > ';\n\nexport default Vue.extend({\n  name: 'SelectCategoriesOrPattern',\n  props: {\n    filterCategories: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      mode: 'categories',\n      pattern: '',\n      filterCategoriesData: [],\n    };\n  },\n  computed: {\n    categories: function () {\n      return this.$store.state.categories.classes;\n    },\n\n    categoriesWithRules() {\n      if (this.mode === 'categories') {\n        // Get the category and all subcategories\n        return this.categories\n          .filter(cat => {\n            const name = cat.name.join(SEP);\n            for (const filterCat of this.filterCategoriesData) {\n              if (name.includes(filterCat.join(SEP))) {\n                return true;\n              }\n            }\n            return false;\n          })\n          .filter(cat => cat.rule.type === 'regex')\n          .map(cat => [cat.name, cat.rule]);\n      } else if (this.mode === 'custom') {\n        return [[['searched'], { type: 'regex', regex: this.pattern }]];\n      } else {\n        console.error('Unknown mode:', this.mode);\n        return [];\n      }\n    },\n  },\n  watch: {\n    filterCategories() {\n      this.filterCategoriesData = [...this.filterCategoriesData, ...this.filterCategories];\n    },\n    filterCategoriesData() {\n      this.$emit('input', this.categoriesWithRules);\n      console.log(this.categoriesWithRules);\n    },\n    pattern() {\n      this.$emit('input', this.categoriesWithRules);\n      console.log(this.categoriesWithRules);\n    },\n  },\n  async mounted() {\n    await this.$store.dispatch('categories/load');\n  },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-38[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectCategoriesOrPattern.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-38[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectCategoriesOrPattern.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectCategoriesOrPattern.vue?vue&type=template&id=38984480&lang=pug&\"\nimport script from \"./SelectCategoriesOrPattern.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectCategoriesOrPattern.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","model","value","callback","$$v","mode","expression","attrs","_v","filterCategoriesData","_e","on","$event","type","indexOf","_k","keyCode","key","generate","pattern","_t","staticRenderFns","SEP","Vue","name","props","filterCategories","Array","default","data","computed","categories","$store","state","classes","categoriesWithRules","filter","cat","join","filterCat","includes","rule","map","regex","console","error","watch","$emit","log","mounted","dispatch","component","_arrayWithoutHoles","arr","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread"],"sourceRoot":""}