(()=>{"use strict";var e={78050:(e,t,n)=>{n.d(t,{ZP:()=>O,l8:()=>b});var r=n(46225),a=n(32572),o=n(66073),i=n.n(o),s=n(63105),u=n.n(s),c=n(64721),l=n.n(c),d=n(13311),f=n.n(d),p=n(35161),m=n.n(p);n(21249),n(57327),n(41539),n(74916),n(23123),n(73210),n(15306),n(38862),n(69600),n(92222),n(47941);function v(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).map((function(e){return e+";"}))}function _(e){return e.replace(/"/g,'\\"')}function g(e){return"bid_window"in e}function h(e){return"bid_android"in e}function b(e){var t=JSON.stringify(e.classes).replace(/\\\\/g,"\\"),n=JSON.stringify(e.filter_classes),r=g(e)?e.bid_window:e.bid_android;return['events = flood(query_bucket("'.concat(r,'"));'),h(e)?'events = merge_events_by_keys(events, ["app"]);':"",g(e)?'not_afk = flood(query_bucket("'.concat(e.bid_afk,'"));\n         not_afk = filter_keyvals(not_afk, "status", ["not-afk"]);'):"",e.bid_browsers?g(e)&&C(e)+(e.include_audible?'audible_events = filter_keyvals(browser_events, "audible", [true]);\n             not_afk = period_union(not_afk, audible_events);':""):"",g(e)&&e.filter_afk?"events = filter_period_intersect(events, not_afk);":"",e.classes?"events = categorize(events, ".concat(t,");"):"",e.filter_classes?'events = filter_keyvals(events, "$category", '.concat(n,");"):""].join("\n")}var y=100;function w(e,t,n){e=_(e);var r={bid_android:e,classes:t,filter_classes:n},a="\n    ".concat(b(r),'\n\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "classname"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    events = sort_by_timestamp(events);\n    app_events  = limit_events(app_events, ').concat(y,");\n    title_events  = limit_events(title_events, ").concat(y,');\n    duration = sum_durations(events);\n    RETURN  = {"app_events": app_events, "title_events": title_events, "cat_events": cat_events, "duration": duration, "active_events": app_events};\n  ');return v(a)}var k={chrome:["Google Chrome","Google-chrome","chrome.exe","google-chrome-stable","Chromium","Chromium-browser","Chromium-browser-chromium","chromium.exe","Google-chrome-beta","Google-chrome-unstable","Brave-browser"],firefox:["Firefox","Firefox.exe","firefox","firefox.exe","Firefox Developer Edition","firefoxdeveloperedition","Firefox-esr","Firefox Beta","Nightly"],opera:["opera.exe","Opera"],brave:["brave.exe"],edge:["msedge.exe","Microsoft Edge"],vivaldi:["Vivaldi-stable","Vivaldi-snapshot","vivaldi.exe"]};function x(e){var t=m()(Object.keys(k),(function(t){var n=f()(e,(function(e){return l()(e,t)}));return[t,n]}));return u()(t,(function(e){var t=(0,a.Z)(e,2),n=t[1];return void 0!==n}))}function C(e){var t="\n    browser_events = [];\n  ";return i()(x(e.bid_browsers),(function(e){var n=(0,a.Z)(e,2),r=n[0],o=n[1],i=JSON.stringify(k[r]);t+="events_".concat(r,' = flood(query_bucket("').concat(o,'"));\n       window_').concat(r,' = filter_keyvals(events, "app", ').concat(i,");\n       events_").concat(r," = filter_period_intersect(events_").concat(r,", window_").concat(r,");\n       events_").concat(r," = split_url_events(events_").concat(r,");\n       browser_events = concat(browser_events, events_").concat(r,");\n       browser_events = sort_by_timestamp(browser_events);")})),t}function R(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;e=m()(e,_),t=_(t),n=_(n);var s={bid_window:t,bid_afk:n,bid_browsers:e,classes:a,filter_classes:o,filter_afk:r,include_audible:i};return v("\n    ".concat(b(s),'\n    title_events = sort_by_duration(merge_events_by_keys(events, ["app", "title"]));\n    app_events   = sort_by_duration(merge_events_by_keys(title_events, ["app"]));\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n\n    app_events  = limit_events(app_events, ').concat(y,");\n    title_events  = limit_events(title_events, ").concat(y,");\n    duration = sum_durations(events);\n    ")+'\n    browser_events = split_url_events(browser_events);\n    browser_urls = merge_events_by_keys(browser_events, ["url"]);\n    browser_urls = sort_by_duration(browser_urls);\n    browser_urls = limit_events(browser_urls, '.concat(y,');\n    browser_domains = merge_events_by_keys(browser_events, ["$domain"]);\n    browser_domains = sort_by_duration(browser_domains);\n    browser_domains = limit_events(browser_domains, ').concat(y,');\n    browser_duration = sum_durations(browser_events);\n\n    RETURN = {\n        "window": {\n            "app_events": app_events,\n            "title_events": title_events,\n            "cat_events": cat_events,\n            "active_events": not_afk,\n            "duration": duration\n        },\n        "browser": {\n            "domains": browser_domains,\n            "urls": browser_urls,\n            "duration": browser_duration\n        }\n    };'))}function S(e){var t,n=["events = [];"],a=(0,r.Z)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;o=_(o),n.push('events = concat(events, flood(query_bucket("'+o+'")));')}}catch(i){a.e(i)}finally{a.f()}return n=n.concat(['files = sort_by_duration(merge_events_by_keys(events, ["file", "language"]));',"files = limit_events(files, ".concat(y,");"),'languages = sort_by_duration(merge_events_by_keys(events, ["language"]));',"languages = limit_events(languages, ".concat(y,");"),'projects = sort_by_duration(merge_events_by_keys(events, ["project"]));',"projects = limit_events(projects, ".concat(y,");"),"duration = sum_durations(events);",'RETURN = {"files": files, "languages": languages, "projects": projects, "duration": duration};']),n}function Z(e){return e=_(e),['afkbucket = "'+e+'";',"not_afk = flood(query_bucket(afkbucket));",'not_afk = filter_keyvals(not_afk, "status", ["not-afk"]);','not_afk = merge_events_by_keys(not_afk, ["status"]);',"RETURN = not_afk;"]}function q(e){return e=_(e),['events = query_bucket("'.concat(e,'");'),"RETURN = sum_durations(events);"]}function F(e){var t="\n    ".concat(b(e),'\n    cat_events   = sort_by_duration(merge_events_by_keys(events, ["$category"]));\n    RETURN = { "cat_events": cat_events };\n  ');return v(t)}const O={fullDesktopQuery:R,appQuery:w,activityQuery:Z,activityQueryAndroid:q,categoryQuery:F,editorActivityQuery:S}},45029:(e,t,n)=>{n.d(t,{ZP:()=>p,eB:()=>s,wc:()=>u});var r=n(69689),a=n(63360),o=(n(23157),n(26699),n(32023),n(47941),n(38862),n(35666),n(30381)),i=n.n(o),s=86400,u=432e3,c={initialTimestamp:i()(),startOfDay:"04:00",durationDefault:14400,useColorFallback:!1,landingpage:"/home",theme:"light",newReleaseCheckData:{isEnabled:!0,nextCheckTime:i()().add(s,"seconds"),howOftenToCheck:s,timesChecked:0},userSatisfactionPollData:{},devmode:!1,_loaded:!1},l={loaded:function(e){return e._loaded}},d={ensureLoaded:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.dispatch,r=e.getters,r.loaded){t.next=4;break}return t.next=4,n("load");case 4:case"end":return t.stop()}}),t)})))()},load:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,"undefined"!==typeof localStorage){t.next=4;break}return console.error("localStorage is not supported"),t.abrupt("return");case 4:for(a in r={},localStorage)if(Object.prototype.hasOwnProperty.call(localStorage,a)&&!a.startsWith("_"))if(o=localStorage.getItem(a),a.includes("Data"))try{r[a]=JSON.parse(o)}catch(i){console.error("failed to parse",a,o)}else r[a]=o;n("setState",r);case 7:case"end":return t.stop()}}),t)})))()},save:function(e){return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=e.state,a=e.dispatch,o=0,i=Object.keys(n);o<i.length;o++)s=i[o],u=n[s],"object"===(0,r.Z)(u)?localStorage.setItem(s,JSON.stringify(u)):localStorage.setItem(s,u);return t.next=4,a("load");case 4:case"end":return t.stop()}}),t)})))()},update:function(e,t){return(0,a.Z)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=e.dispatch,console.log("Updating state",t),r("setState",t),n.next=5,a("save");case 5:case"end":return n.stop()}}),n)})))()}},f={setState:function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];e[a]=t[a]}e._loaded=!0}};const p={namespaced:!0,state:c,getters:l,actions:d,mutations:f}},9740:(e,t,n)=>{n.r(t),n.d(t,{annotate:()=>_,build_category_hierarchy:()=>h,classifyEvents:()=>R,createMissingParents:()=>g,defaultCategories:()=>v,flatten_category_hierarchy:()=>b,loadClasses:()=>w,loadClassesForQuery:()=>k,matchString:()=>C,saveClasses:()=>y});var r=n(35161),a=n.n(r),o=n(84753),i=n.n(o),s=n(42348),u=n.n(s),c=n(50361),l=n.n(c),d=(n(68309),n(69600),n(47042),n(21249),n(41539),n(70189),n(78783),n(33948),n(57327),n(38862),n(24603),n(28450),n(74916),n(88386),n(39714),n(77601),n(5212),">"),f=["app","title"],p=["Uncategorized"],m="#CCC",v=[{name:["Work"],rule:{type:"regex",regex:"Google Docs|libreoffice|ReText"},data:{color:"#0F0"}},{name:["Work","Programming"],rule:{type:"regex",regex:"GitHub|Stack Overflow|BitBucket|Gitlab|vim|Spyder|kate|Ghidra|Scite"}},{name:["Work","Programming","ActivityWatch"],rule:{type:"regex",regex:"ActivityWatch|aw-",ignore_case:!0}},{name:["Work","Image"],rule:{type:"regex",regex:"Gimp|Inkscape"}},{name:["Work","Video"],rule:{type:"regex",regex:"Kdenlive"}},{name:["Work","Audio"],rule:{type:"regex",regex:"Audacity"}},{name:["Work","3D"],rule:{type:"regex",regex:"Blender"}},{name:["Media","Games"],rule:{type:"regex",regex:"Minecraft|RimWorld"},data:{color:"#F80"}},{name:["Media","Video"],rule:{type:"regex",regex:"YouTube|Plex|VLC"},data:{color:"#F33"}},{name:["Media","Social Media"],rule:{type:"regex",regex:"reddit|Facebook|Twitter|Instagram|devRant",ignore_case:!0},data:{color:"#FCC400"}},{name:["Media","Music"],rule:{type:"regex",regex:"Spotify|Deezer",ignore_case:!0},data:{color:"#A8FC00"}},{name:["Comms"],rule:{type:null},data:{color:"#9FF"}},{name:["Comms","IM"],rule:{type:"regex",regex:"Messenger|Telegram|Signal|WhatsApp|Rambox|Slack|Riot|Element|Discord|Nheko"}},{name:["Comms","Email"],rule:{type:"regex",regex:"Gmail|Thunderbird|mutt|alpine"}},{name:["Uncategorized"],rule:{type:null},data:{color:m}}];function _(e){var t=e.name;return e.name_pretty=t.join(d),e.subname=t.slice(-1)[0],e.parent=t.length>1?t.slice(0,-1):null,e.depth=t.length-1,e}function g(e){e=l()(e),e=e.slice().map((function(e){return _(e)}));var t=new Set(e.map((function(e){return e.name.join(d)})));function n(r){r.map((function(e){return e.parent})).filter((function(e){return!!e})).map((function(r){var a=r.join(d);if(r&&!t.has(a)){var o=_({name:r,rule:{type:null}});e.push(o),t.add(a),n([o])}}))}return n(e),e}function h(e){function t(n){return n.map((function(n){return n.children=e.filter((function(e){return!(!e.parent||!n.name)&&JSON.stringify(e.parent)==JSON.stringify(n.name)})),t(n.children),n}))}return e=g(e),t(e.filter((function(e){return!e.parent})))}function b(e){return u()(e.map((function(e){var t=[e,b(e.children)];return e.children=[],t})))}function y(e){localStorage.classes=JSON.stringify(e),console.log("Saved classes",localStorage.classes)}function w(){var e=localStorage.classes;return e&&e.length>=1?JSON.parse(e):v}function k(){return w().filter((function(e){return null!==e.rule.type})).map((function(e){return[e.name,e.rule]}))}function x(e){return i()(e,(function(e){return e.name.length}))}function C(e,t){t||(console.log("Categories not passed, loading... (if you see this outside of a test, you should probably pass them)"),t=w());var n=t.filter((function(e){return"regex"==e.rule.type})).map((function(e){var t=RegExp(e.rule.regex,e.rule.ignore_case?"i":"");return[e,t]})),r=n.filter((function(t){return t[1].test(e)}));return r.length>0?x(r.map((function(e){return e[0]}))):null}function R(e,t){var n=t.filter((function(e){return"regex"==e.rule.type})).map((function(e){var t=RegExp(e.rule.regex,e.rule.ignore_case?"i":"");return[e,t]}));return e.map((function(e){var t=n.filter((function(t){return a()(f,(function(n){return t[1].test(e.data[n])})).some((function(e){return e}))}));if(t.length>0){var r=x(t.map((function(e){return e[0]})));e.data.$category=r.name}else e.data.$category=p;return e}))}},53167:(e,t,n)=>{n.r(t),n.d(t,{getCategoryColorFromString:()=>g,getColorFromCategory:()=>_,getColorFromString:()=>v,getTitleAttr:()=>b});var r=n(10928),a=n.n(r),o=n(18446),i=n.n(o),s=(n(74916),n(23123),n(96647),n(83710),n(41539),n(39714),n(47042),n(68309),n(69826),n(15306),n(78783),n(33948),n(60285),n(41637),n(23157),n(9740)),u=n(6767),c=n.n(u),l=n(46520),d="#CCC",f=l.scaleOrdinal(["#90CAF9","#FFE082","#EF9A9A","#A5D6A7"]);f.domain("0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20".split(/, /));var p={afk:"#EEE","not-afk":"#7F6",hibernating:"#DD6","google-chrome":"#6AA7FE",chromium:"#8CF",firefox:"#F94",spotify:"#5FA",alacritty:"#FD8",vue:"#5d9",python:"#369",javascript:"#f6b",localhost:"#CCC","github.com":"#EBF","stackoverflow.com":c()("#F48024").lighten(.3),"google.com":"#0AF","google.se":"#0AF","messenger.com":c()("#3b5998").lighten(.5),"facebook.com":c()("#3b5998").lighten(.5),uncategorized:d};function m(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t}function v(e){return e=e||"",e=e.toLowerCase(),p[e]||f(Math.abs(m(e)%20).toString())}function _(e,t){if(e&&e.data&&e.data.color)return e.data.color;if(e&&e.name.slice(0,-1).length>0){var n=e.name.slice(0,-1),r=t.find((function(e){return i()(e.name,n)}));return void 0===r&&console.error("Couldn't find parent!",n),_(r,t)}return d}function g(e){var t=(0,s.loadClasses)(),n=(0,s.matchString)(e,t);return null!==n?_(n,t):h(e)}function h(e){var t=void 0===localStorage||"true"===localStorage.useColorFallback;return t?v(e):d}function b(e,t){var n,r;if("currentwindow"==e.type)return t.data.app;if("web.tab.current"!=e.type)return"afkstatus"==e.type?t.data.status:null!==(n=e.type)&&void 0!==n&&n.startsWith("app.editor")?a()(t.data.file.split("/")):null!==(r=e.type)&&void 0!==r&&r.startsWith("general.stopwatch")?t.data.label:t.data.title;try{return new URL(t.data.url).hostname.replace("www.","")}catch(o){return t.data.url}}},69409:(e,t,n)=>{n.r(t),n.d(t,{friendlydate:()=>s,get_day_end_with_offset:()=>l,get_day_period:()=>d,get_day_start_with_offset:()=>u,get_hour_offset:()=>c,get_next_day:()=>p,get_offset_duration:()=>m,get_prev_day:()=>f,get_today_with_offset:()=>v,seconds_to_duration:()=>i});var r=n(32572),a=(n(69600),n(91058),n(74916),n(23123),n(9653),n(30381)),o=n.n(a);function i(e){var t=Math.floor(e/60/60),n=Math.floor(e/60%60),r=Math.floor(e%60),a=[];return 0!=t&&a.push(t+"h"),0!=n&&a.push(n+"m"),0==r&&0!=a.length||a.push(r+"s"),a.join(" ")}function s(e){var t=o()(),n=o().parseZone(e),r=o().duration(n.diff(t));return-r.asSeconds()<=60?"".concat(Math.round(-r.asSeconds()),"s ago"):(r.asSeconds(),r.humanize(!0))}function u(e,t){var n=e?o()(e):o()().startOf("day"),r=parseInt(t.split(":")[0]),a=parseInt(t.split(":")[1]);return n.hour(r).minute(a).format()}function c(e){var t=parseInt(e.split(":")[0]),n=parseInt(e.split(":")[1]);return t+n/60}function l(e,t){return o()(u(e,t)).add(1,"days").format()}function d(e,t){return u(e,t)+"/"+l(e,t)}function f(e){return o()(e).add(-1,"days")}function p(e){return o()(e).add(1,"days")}function m(e){var t=e.split(":"),n=(0,r.Z)(t,2),a=n[0],i=n[1];return o().duration({hours:Number(a),minutes:Number(i)})}function v(e){var t=m(e);return o()().subtract(t).startOf("day").format("YYYY-MM-DD")}},46623:(e,t,n)=>{n.d(t,{Lj:()=>l,SE:()=>v,UO:()=>d,Yl:()=>m,b5:()=>p,dS:()=>u,v4:()=>s,z7:()=>f});var r=n(8959),a=(n(69600),n(30381)),o=n.n(a),i=n(69409);function s(e,t,n){return{start:(0,i.get_day_start_with_offset)(e,t),length:n||[1,"day"]}}function u(e){var t=o()(e.start).format(),n=o()(t).add(e.length[0],e.length[1]).format();return[t,n].join("/")}function c(e){return"day"===e?"YYYY-MM-DD":"week"===e?"YYYY[ W]WW":"month"===e?"YYYY-MM":"year"===e?"YYYY":"YYYY-MM-DD"}function l(e){return o()(e.start).format(c(e.length[1]))}function d(e){return"day"===e?"day":"week"===e?"isoWeek":"month"===e?"month":"year"===e?"year":(console.error('Invalid periodLength ${periodLength}, defaulting to "day"'),"day")}function f(e){for(var t=[],n=-15;n<=15;n++){var a=o()(e.start).add(n*e.length[0],e.length[1]).format();t.push((0,r.Z)((0,r.Z)({},e),{},{start:a}))}return t}function p(e){for(var t=[],n=[1,"hour"],r=0;r<24;r++){var a=o()(e.start).add(r*n[0],n[1]).format();t.push({start:a,length:n})}return t}function m(e){var t,n=[],r=[1,"day"];"week"==e.length[1]?t=7:"month"==e.length[1]&&(t=o()(e.start).daysInMonth());for(var a=0;a<t;a++){var i=o()(e.start).add(a*r[0],r[1]).format();n.push({start:i,length:r})}return n}function v(e){for(var t=[],n=[1,"month"],r=12,a=0;a<r;a++){var i=o()(e.start).add(a*n[0],n[1]).format();t.push({start:i,length:n})}return t}},99853:(e,t,n)=>{n(66992),n(88674),n(19601),n(17727),n(41539),n(78783),n(33948),n(28594),n(35666);var r=n(20144),a=n(62032),o=(n(76731),n(45350)),i=n(75472),s=n.n(i),u=(n(57327),n(69409)),c=n(46623),l=n(30381),d=n.n(l);r["default"].filter("iso8601",(function(e){return d().parseZone(e).format()})),r["default"].filter("shortdate",(function(e){return d()(e).format("YYYY-MM-DD")})),r["default"].filter("shorttime",(function(e){return d()(e).format("HH:mm")})),r["default"].filter("friendlytime",(function(e){return(0,u.friendlydate)(e)})),r["default"].filter("friendlyduration",(function(e){return(0,u.seconds_to_duration)(e)})),r["default"].filter("friendlyperiod",(function(e){return(0,c.Lj)(e)})),r["default"].prototype.filters={orderBy:s()};var f=n(57516),p="";var m=new f.AWClient("aw-webui",{testing:!1,baseURL:p});const v=m;var _=n(78345),g=function(){return n.e(882).then(n.bind(n,49882))},h=function(){return n.e(765).then(n.bind(n,80765))},b=function(){return n.e(989).then(n.bind(n,27989))},y=function(){return n.e(278).then(n.bind(n,68278))},w=function(){return n.e(213).then(n.bind(n,44213))},k=function(){return n.e(734).then(n.bind(n,11734))},x=function(){return n.e(749).then(n.bind(n,66749))},C=function(){return n.e(210).then(n.bind(n,18210))},R=function(){return n.e(340).then(n.bind(n,59340))},S=function(){return n.e(575).then(n.bind(n,16575))},Z=function(){return n.e(176).then(n.bind(n,36176))},q=function(){return n.e(612).then(n.bind(n,14612))},F=function(){return n.e(753).then(n.bind(n,20753))},O=function(){return n.e(699).then(n.bind(n,49699))},M=function(){return n.e(124).then(n.bind(n,4124))};r["default"].use(_.Z);var j=new _.Z({routes:[{path:"/",redirect:function(e){return localStorage.landingpage||"/home"}},{path:"/home",component:g},{path:"/activity/:host/:periodLength?/:date?",component:h,props:!0,children:[{path:"view/:view_id?",meta:{subview:"view"},name:"activity-view",component:b,props:!0},{path:"",redirect:"view/"}]},{path:"/buckets",component:y},{path:"/buckets/:id",component:w,props:!0},{path:"/timeline",component:x,meta:{fullContainer:!0}},{path:"/trends",component:C,meta:{fullContainer:!0}},{path:"/trends/:host",component:C,meta:{fullContainer:!0}},{path:"/report",component:F},{path:"/query",component:k},{path:"/alerts",component:Z},{path:"/settings",component:R},{path:"/stopwatch",component:S},{path:"/search",component:q},{path:"/dev",component:O},{path:"*",component:M}]});const A=j;var B=n(20629),$=n(8959),E=n(71749),D=n(46225),W=n(63360),P=n(24976),z=n.n(P),Y=n(8816),N=n.n(Y),T=n(66415),I=n.n(T),U=n(21146),L=n.n(U),Q=n(1363),V=n.n(Q),G=n(40104),H=n.n(G),J=n(88846),K=n.n(J),X=n(96026),ee=n.n(X),te=n(73303),ne=n.n(te),re=n(66604),ae=n.n(re),oe=n(93220),ie=n.n(oe),se=n(17204),ue=n.n(se),ce=n(63105),le=n.n(ce),de=n(35161),fe=n.n(de),pe=n(7287),me=n.n(pe),ve=n(64721),_e=n.n(ve),ge=n(18721),he=n.n(ge),be=(n(21249),n(74916),n(23123),n(23157),n(83710),n(69826),n(92222),n(60285),n(41637),n(28733),n(47941),[{duration:1926,data:{app:"Firefox",title:"ActivityWatch/activitywatch: Track how you spend your time - Mozilla Firefox",url:"https://github.com/ActivityWatch/activitywatch",$category:["Work","Programming","ActivityWatch"]}},{duration:876,data:{app:"Firefox",title:"Inbox - Gmail - Mozilla Firefox",url:"https://mail.google.com",$category:["Comms","Email"]}},{duration:720,data:{app:"Firefox",title:"reddit: the front page of the internet - Mozilla Firefox",url:"https://reddit.com",$category:["Media","Social Media"]}},{duration:720,data:{app:"Firefox",title:"YouTube - Mozilla Firefox",url:"https://youtube.com",$category:["Media","Video"]}},{duration:540,data:{app:"Firefox",title:"Home / Twitter - Mozilla Firefox",url:"https://twitter.com",$category:["Media","Social Media"]}},{duration:540,data:{app:"Firefox",title:"Stack Overflow",url:"https://stackoverflow.com",$category:["Work","Programming"]}},{duration:2892,data:{app:"Terminal",title:"vim ~/code/activitywatch/aw-server/aw-webui/src",$category:["Work","Programming","ActivityWatch"]}},{duration:756,data:{app:"Terminal",title:"bash ~/code/activitywatch",$category:["Work","Programming","ActivityWatch"]}},{duration:3486,data:{app:"zoom",title:"Zoom Meeting",$category:["Comms","Video Conferencing"]}},{duration:1440,data:{app:"Minecraft",title:"Minecraft",$category:["Media","Games"]}},{duration:189,data:{app:"Spotify",title:"Spotify",$category:["Media","Music"]}}]),ye=n(78050),we=n(53167),ke=n(9740),xe={loaded:!1,window:{available:!1,top_apps:[],top_titles:[]},browser:{available:!1,duration:[],top_domains:[],top_urls:[]},editor:{available:!1,duration:[],top_files:[],top_languages:[],top_projects:[]},category:{available:!1,by_period:[],top:[]},active:{available:!1,duration:0,events:[],history:{}},android:{available:!1},query_options:{browser_buckets:"all",editor_buckets:"all"},buckets:{loaded:!1,afk:[],window:[],editor:[],browser:[],android:[]}};function Ce(e){return(0,c.b5)(e).map(c.dS)}function Re(e){return(0,c.Yl)(e).map(c.dS)}function Se(e){return(0,c.SE)(e).map(c.dS)}function Ze(e){return(0,c.z7)(e).map(c.dS)}var qe={getActiveHistoryAroundTimeperiod:function(e){return function(t){var n=Ze(t),r=n.map((function(t){return he()(e.active.history,t)?e.active.history[t]:[{timestamp:d()(t.split("/")[0]).format(),duration:0,data:{}}]}));return r}}},Fe={ensure_loaded:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,o=e.state,i=e.rootState,s=e.dispatch,r.next=3,s("settings/ensureLoaded",null,{root:!0});case 3:if(u=i.settings.startOfDay,console.info("Query options: ",t),o.loaded&&n._vm.$aw.abort(),o.loaded&&o.query_options===t&&!t.force){r.next=56;break}return a("start_loading",t),t.timeperiod||(t.timeperiod=(0,c.v4)(t.date,u)),r.next=11,s("buckets/ensureBuckets",null,{root:!0});case 11:return r.next=13,s("get_buckets",t);case 13:return r.next=15,s("set_available",t);case 15:if(!o.window.available){r.next=20;break}return r.next=18,s("query_desktop_full",t);case 18:r.next=30;break;case 20:if(!o.android.available){r.next=25;break}return r.next=23,s("query_android",t);case 23:r.next=30;break;case 25:return console.log("Cannot query windows as we are missing either an afk/window bucket pair or an android bucket"),r.next=28,s("reset_window");case 28:return r.next=30,s("reset_category");case 30:if(!o.active.available){r.next=35;break}return r.next=33,s("query_active_history",t);case 33:r.next=43;break;case 35:if(!o.android.available){r.next=40;break}return r.next=38,s("query_active_history_android",t);case 38:r.next=43;break;case 40:return console.log("Cannot call query_active_history as we do not have an afk bucket"),r.next=43,s("query_active_history_empty",t);case 43:if(!o.editor.available){r.next=48;break}return r.next=46,s("query_editor",t);case 46:r.next=51;break;case 48:return console.log("Cannot call query_editor as we do not have any editor buckets"),r.next=51,s("reset_editor");case 51:if(!o.window.available){r.next=54;break}return r.next=54,s("query_category_time_by_period",t);case 54:r.next=57;break;case 56:console.warn("ensure_loaded called twice with same query_options but without query_options.force = true, skipping...");case 57:case"end":return r.stop()}}),r)})))()},query_android:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,l,d,f;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.state,o=e.commit,i=t.timeperiod,s=t.filterCategories,u=[(0,c.dS)(i)],l=(0,ke.loadClassesForQuery)(),d=ye.ZP.appQuery(a.buckets.android[0],l,s),r.next=7,n._vm.$aw.query(u,d)["catch"](n.errorHandler);case 7:f=r.sent,o("query_window_completed",f[0]);case 9:case"end":return r.stop()}}),r)})))()},reset:function(e){var t=this;return(0,W.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,t._vm.$aw.abort(),n.next=4,r("reset_window");case 4:return n.next=6,r("reset_browser");case 6:return n.next=8,r("reset_editor");case 8:return n.next=10,r("reset_category");case 10:case"end":return n.stop()}}),n)})))()},reset_window:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r={app_events:[],title_events:[],cat_events:[],active_events:[],duration:0},n("query_window_completed",r);case 3:case"end":return t.stop()}}),t)})))()},reset_browser:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r={domains:[],urls:[],duration:0},n("query_browser_completed",r);case 3:case"end":return t.stop()}}),t)})))()},reset_editor:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r={files:[],projects:[],languages:[]},n("query_editor_completed",r);case 3:case"end":return t.stop()}}),t)})))()},reset_category:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r={by_period:[]},n("query_category_time_by_period_completed",r);case 3:case"end":return t.stop()}}),t)})))()},query_desktop_full:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,l,d,f,p,m,v,_,g,h;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.state,o=e.commit,i=e.rootState,s=e.rootGetters,u=t.timeperiod,l=t.filterCategories,d=t.filterAFK,f=t.includeAudible,p=[(0,c.dS)(u)],m=(0,ke.loadClassesForQuery)(),v=ye.ZP.fullDesktopQuery(a.buckets.browser,a.buckets.window[0],a.buckets.afk[0],d,m,l,f),r.next=7,n._vm.$aw.query(p,v);case 7:_=r.sent,g=_[0].window,h=_[0].browser,g.cat_events=_[0].window["cat_events"].map((function(e){var t=s["categories/get_category"](e.data["$category"]);return e.data["$color"]=(0,we.getColorFromCategory)(t,i.categories.classes),e})),o("query_window_completed",g),o("query_browser_completed",h);case 13:case"end":return r.stop()}}),r)})))()},query_editor:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.state,o=e.commit,i=t.timeperiod,s=[(0,c.dS)(i)],u=ye.ZP.editorActivityQuery(a.buckets.editor),r.next=6,n._vm.$aw.query(s,u);case 6:l=r.sent,o("query_editor_completed",l[0]);case 8:case"end":return r.stop()}}),r)})))()},query_active_history:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,o=e.state,i=t.timeperiod,s=Ze(i).filter((function(e){return!_e()(o.active.history,e)})),r.next=5,n._vm.$aw.query(s,ye.ZP.activityQuery(o.buckets.afk[0]));case 5:u=r.sent,c=me()(s,fe()(u,(function(e){return le()(e,(function(e){return"not-afk"==e.data.status}))}))),a("query_active_history_completed",{active_history:c});case 8:case"end":return r.stop()}}),r)})))()},query_category_time_by_period:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,c,l,d,f,p,m,v,_,g,h,b,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.commit,o=e.state,i=t.timeperiod,s=t.filterCategories,u=t.filterAFK,c=t.dontQueryInactive,i.length[1].startsWith("day")?l=Ce(i):i.length[1].startsWith("week")||i.length[1].startsWith("month")?l=Re(i):i.length[1].startsWith("year")?l=Se(i):console.error("Unknown timeperiod"),d=n._vm.$aw.controller.signal,f=!1,d.onabort=function(){f=!0,console.log("Request aborted")},p=(0,ke.loadClassesForQuery)(),m=[],v=(0,D.Z)(l),r.prev=9,v.s();case 11:if((_=v.n()).done){r.next=25;break}if(g=_.value,!f){r.next=15;break}throw d.reason;case 15:if(!(c&&o.active.events.length>0)){r.next=19;break}if(h=function(){var e=new Date(g.split("/")[0]),t=new Date(g.split("/")[1]),n=o.active.events.find((function(n){return e<new Date(n.timestamp)&&new Date(n.timestamp)<t}));if(!(n&&n.duration>0))return m=m.concat([{cat_events:[]}]),"continue"}(),"continue"!==h){r.next=19;break}return r.abrupt("continue",23);case 19:return r.next=21,n._vm.$aw.query([g],ye.ZP.categoryQuery({bid_afk:o.buckets.afk[0],bid_window:o.buckets.window[0],bid_browsers:o.buckets.browser,classes:p,filter_afk:u,filter_classes:s}));case 21:b=r.sent,m=m.concat(b);case 23:r.next=11;break;case 25:r.next=30;break;case 27:r.prev=27,r.t0=r["catch"](9),v.e(r.t0);case 30:return r.prev=30,v.f(),r.finish(30);case 33:y=me()(l,m),y=ue()(ie()(y).filter((function(e){return e[1]}))),a("query_category_time_by_period_completed",{by_period:y});case 36:case"end":return r.stop()}}),r,null,[[9,27,30,33]])})))()},query_active_history_android:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,o=e.state,i=t.timeperiod,s=Ze(i).filter((function(e){return!_e()(o.active.history,e)})),r.next=5,n._vm.$aw.query(s,ye.ZP.activityQueryAndroid(o.buckets.android[0]));case 5:u=r.sent,c=me()(s,u),l=ae()(c,(function(e,t){return[{timestamp:t.split("/")[0],duration:e,data:{status:"not-afk"}}]})),a("query_active_history_completed",{active_history:l});case 9:case"end":return r.stop()}}),r)})))()},query_active_history_empty:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r=[],n("query_active_history_completed",r);case 3:case"end":return t.stop()}}),t)})))()},set_available:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r,a,o,i,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r=e.state,a=r.buckets.afk.length>0&&r.buckets.window.length>0,o=r.buckets.afk.length>0&&r.buckets.window.length>0&&r.buckets.browser.length>0,i=r.buckets.afk.length>0,s=r.buckets.editor.length>0,u=r.buckets.android.length>0,n("set_available",{window_available:a,browser_available:o,active_available:i,editor_available:s,android_available:u});case 7:case"end":return t.stop()}}),t)})))()},get_buckets:function(e,t){return(0,W.Z)(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,a=e.rootGetters,o=t.host,i={afk:a["buckets/afkBucketsByHost"](o),window:a["buckets/windowBucketsByHost"](o),android:a["buckets/androidBucketsByHost"](o),browser:a["buckets/browserBuckets"],editor:a["buckets/editorBuckets"]},console.log("Available buckets: ",i),r("buckets",i);case 5:case"end":return n.stop()}}),n)})))()},load_demo:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r,a,o,i,s,c,l,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p=function(){var e={},t=d()((0,u.get_day_start_with_offset)(null,f));return fe()(ee()(0,30),(function(){var n=d()(t).add(1,"day");e["".concat(t.format(),"/").concat(n.format())]=[{timestamp:t.format(),duration:100+900*Math.random(),data:{status:"not-afk"}}],t=t.add(-1,"day")})),e},a=function(e,t,n){return N()(H()(n),L()(n),V(),K()((function(e){return{duration:ne()(e,"duration"),data:(0,E.Z)({},t,n(e[0]))}})),I()("duration"),z())(e)},n=e.commit,r=e.rootState,n("start_loading",{}),o=a(be,"app",(function(e){return e.data.app})),i=a(be,"title",(function(e){return e.data.title})),s=a(be,"$category",(function(e){return e.data.$category})),c=a(be,"url",(function(e){return e.data.url})),l=a(be,"$domain",(function(e){return void 0===e.data.url?"":new URL(e.data.url).host})),n("query_window_completed",{duration:ne()(be,"duration"),app_events:o,title_events:i,cat_events:s,active_events:[{timestamp:(new Date).toISOString(),duration:5400,data:{afk:"not-afk"}}]}),n("browser_buckets",["aw-watcher-firefox"]),n("query_browser_completed",{duration:ne()(c,"duration"),domains:l,urls:c}),n("editor_buckets",["aw-watcher-vim"]),n("query_editor_completed",{duration:30,files:[{duration:10,data:{file:"test.py"}}],languages:[{duration:10,data:{language:"python"}}],projects:[{duration:10,data:{project:"aw-core"}}]}),f=r.settings.startOfDay,n("query_active_history_completed",{active_history:p()});case 16:case"end":return t.stop()}}),t)})))()}},Oe={start_loading:function(e,t){e.loaded=!0,e.query_options=t,e.window.top_apps=null,e.window.top_titles=null,e.browser.duration=0,e.browser.top_domains=null,e.browser.top_urls=null,e.editor.duration=0,e.editor.top_files=null,e.editor.top_languages=null,e.editor.top_projects=null,e.category.top=null,e.category.by_period=null,e.active.duration=null,0===Object.keys(e.active.history).length&&(e.active.history={})},set_available:function(e,t){e.window.available=t["window_available"],e.browser.available=t["browser_available"],e.active.available=t["active_available"],e.editor.available=t["editor_available"],e.category.available=t["window_available"]||t["android_available"],e.android.available=t["android_available"]},query_window_completed:function(e,t){e.window.top_apps=t["app_events"],e.window.top_titles=t["title_events"],e.category.top=t["cat_events"],e.active.duration=t["duration"],e.active.events=t["active_events"]},query_browser_completed:function(e,t){e.browser.top_domains=t.domains,e.browser.top_urls=t.urls,e.browser.duration=t.duration,e.web_chunks=t["chunks"]},query_editor_completed:function(e,t){e.editor.duration=t["duration"],e.editor.top_files=t["files"],e.editor.top_languages=t["languages"],e.editor.top_projects=t["projects"]},query_active_history_completed:function(e,t){var n=t.active_history;e.active.history=(0,$.Z)((0,$.Z)({},e.active.history),n)},query_category_time_by_period_completed:function(e,t){var n=t.by_period;e.category.by_period=n},buckets:function(e,t){e.buckets=t,e.buckets.loaded=!0}};const Me={namespaced:!0,state:xe,getters:qe,actions:Fe,mutations:Oe};var je=n(96486),Ae={buckets:[]};function Be(e,t){return je.map(je.filter(e,(function(e){return e["type"]===t})),(function(e){return e["id"]}))}function $e(e,t,n){return je.map(je.filter(e,(function(e){return e["type"]===n&&e["hostname"]==t})),(function(e){return e["id"]}))}var Ee={hosts:function(e){return je.uniq(je.map(e.buckets,(function(e){return e["hostname"]})))},devices:function(e){return je.uniq(je.map(e.buckets,(function(e){return e["device_id"]})))},afkBucketsByHost:function(e){return function(t){return $e(e.buckets,t,"afkstatus")}},windowBucketsByHost:function(e){return function(t){return je.filter($e(e.buckets,t,"currentwindow"),(function(e){return!e.startsWith("aw-watcher-android")}))}},androidBucketsByHost:function(e){return function(t){return je.filter($e(e.buckets,t,"currentwindow"),(function(e){return e.startsWith("aw-watcher-android")}))}},editorBuckets:function(e){return Be(e.buckets,"app.editor.activity")},browserBuckets:function(e){return Be(e.buckets,"web.tab.current")},getBucket:function(e){return function(t){return je.filter(e.buckets,(function(e){return e.id===t}))[0]}},bucketsByHostname:function(e){return je.groupBy(e.buckets,"hostname")},getHostnames:function(e){return je.map(e.buckets,"hostname")}},De={ensureBuckets:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.dispatch,0!==n.buckets.length){t.next=4;break}return t.next=4,r("loadBuckets");case 4:case"end":return t.stop()}}),t)})))()},loadBuckets:function(e){var t=this;return(0,W.Z)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,t._vm.$aw.getBuckets();case 3:a=n.sent,r("update_buckets",a);case 5:case"end":return n.stop()}}),n)})))()},getBucketWithEvents:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o,i,s,u,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.getters,o=e.dispatch,i=t.id,s=t.start,u=t.end,r.next=4,o("ensureBuckets");case 4:return c=je.cloneDeep(a.getBucket(i)),r.next=7,n._vm.$aw.getEvents(c.id,{start:s,end:u,limit:-1});case 7:return c.events=r.sent,r.abrupt("return",c);case 9:case"end":return r.stop()}}),r)})))()},getBucketsWithEvents:function(e,t){return(0,W.Z)(regeneratorRuntime.mark((function n(){var r,a,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.dispatch,o=t.start,i=t.end,n.next=4,a("ensureBuckets");case 4:return n.next=6,Promise.all(je.map(r.buckets,function(){var e=(0,W.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a("getBucketWithEvents",{id:t.id,start:o,end:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return s=n.sent,n.abrupt("return",je.orderBy(s,[function(e){return e.id}],["asc"]));case 8:case"end":return n.stop()}}),n)})))()},deleteBucket:function(e,t){var n=this;return(0,W.Z)(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,o=t.bucketId,console.log("Deleting bucket ".concat(o)),r.next=5,n._vm.$aw.deleteBucket(o);case 5:return r.next=7,a("loadBuckets");case 7:case"end":return r.stop()}}),r)})))()}},We={update_buckets:function(e,t){e.buckets=t}};const Pe={namespaced:!0,state:Ae,getters:Ee,actions:De,mutations:We};var ze=n(45029),Ye=n(6162),Ne=n.n(Ye),Te=n(66981),Ie=n.n(Te),Ue=n(18446),Le=n.n(Ue),Qe=n(85564),Ve=n.n(Qe),Ge=n(45578),He=n.n(Ge),Je=n(89734),Ke=n.n(Je),Xe=n(50361),et=n.n(Xe),tt=(n(68309),n(47042),n(69600),n(2707),{classes:[],classes_unsaved_changes:!1}),nt={classes_hierarchy:function(e){var t=(0,ke.build_category_hierarchy)(et()(e.classes));return Ke()(t,[function(e){return e.id||0}])},all_categories:function(e){return He()(Ve()(e.classes.map((function(e){for(var t=[],n=1;n<=e.name.length;n++)t.push(e.name.slice(0,n));return t}))),(function(e){return e.join(">>>>")}))},get_category:function(e){return function(t){("string"===typeof t||t instanceof String)&&console.error("Passed category was string, expected array. Lookup will fail.");var n=e.classes.find((function(e){return Le()(e.name,t)}));return n?(0,ke.annotate)(et()(n)):(Ie()(t,["Uncategorized"])||console.error("Couldn't find category: ",t),{name:["Uncategorized"]})}},get_category_by_id:function(e){return function(t){return(0,ke.annotate)(et()(e.classes.find((function(e){return e.id==t}))))}},category_select:function(e,t){return function(e){var n=t.all_categories;return n=n.map((function(e){return{text:e.join(" > "),value:e}})).sort((function(e,t){return e.text>t.text})),e&&(n=[{text:"All",value:null},{text:"Uncategorized",value:["Uncategorized"]}].concat(n)),n}}},rt={load:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.t0=n,t.next=4,(0,ke.loadClasses)();case 4:t.t1=t.sent,(0,t.t0)("loadClasses",t.t1);case 6:case"end":return t.stop()}}),t)})))()},save:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,t.next=3,(0,ke.saveClasses)(n.classes);case 3:return a=t.sent,r("saveCompleted"),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))()}},at={loadClasses:function(e,t){t=(0,ke.createMissingParents)(t);var n=0;e.classes=t.map((function(e){return Object.assign(e,{id:n++})})),e.classes_unsaved_changes=!1},import:function(e,t){var n=0;e.classes=t.map((function(e){return Object.assign(e,{id:n++})})),e.classes_unsaved_changes=!0},updateClass:function(e,t){console.log("Updating class:",t);var n=e.classes.find((function(e){return e.id===t.id})),r=n.name,a=n.name.length;void 0===t.id||null===t.id?(t.id=Ne()(fe()(e.classes,"id"))+1,e.classes.push(t)):Object.assign(n,t),fe()(e.classes,(function(e){Le()(r,e.name.slice(0,a))&&(e.name=t.name.concat(e.name.slice(a)),console.log("Renamed child:",e.name))})),e.classes_unsaved_changes=!0},addClass:function(e,t){t.id=Ne()(fe()(e.classes,"id"))+1,e.classes.push(t),e.classes_unsaved_changes=!0},removeClass:function(e,t){e.classes=e.classes.filter((function(e){return e.id!==t})),e.classes_unsaved_changes=!0},restoreDefaultClasses:function(e){var t=0;e.classes=(0,ke.createMissingParents)(ke.defaultCategories).map((function(e){return Object.assign(e,{id:t++})})),e.classes_unsaved_changes=!0},clearAll:function(e){e.classes=[],e.classes_unsaved_changes=!0},saveCompleted:function(e){e.classes_unsaved_changes=!1}};const ot={namespaced:!0,state:tt,getters:nt,actions:rt,mutations:at};n(38862),n(82772),n(40561);var it=[{id:"summary",name:"Summary",elements:[{type:"top_apps",size:3},{type:"top_titles",size:3},{type:"timeline_barchart",size:3},{type:"top_categories",size:3},{type:"category_tree",size:3},{type:"category_sunburst",size:3}]},{id:"window",name:"Window",elements:[{type:"top_apps",size:3},{type:"top_titles",size:3}]},{id:"browser",name:"Browser",elements:[{type:"top_domains",size:3},{type:"top_urls",size:3}]},{id:"editor",name:"Editor",elements:[{type:"top_editor_files",size:3},{type:"top_editor_projects",size:3},{type:"top_editor_languages",size:3}]}],st=it,ut={views:[]},ct={},lt={load:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,"undefined"!==typeof localStorage&&(a=localStorage.views,a&&a.length>=1&&(r=JSON.parse(a))),r||(r=st),n("loadViews",r);case 4:case"end":return t.stop()}}),t)})))()},save:function(e){return(0,W.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.dispatch,localStorage.views=JSON.stringify(n.views),t.next=4,r("load");case 4:case"end":return t.stop()}}),t)})))()}},dt={loadViews:function(e,t){e.views=t,console.log("Loaded views:",e.views)},clearViews:function(e){e.views=[]},setElements:function(e,t){var n=t.view_id,r=t.elements;e.views.find((function(e){return e.id==n})).elements=r},restoreDefaults:function(e){e.views=st},addView:function(e,t){e.views.push((0,$.Z)((0,$.Z)({},t),{},{elements:[]}))},removeView:function(e,t){var n=t.view_id,r=e.views.map((function(e){return e.id})).indexOf(n);e.views.splice(r,1)},editView:function(e,t){var n=t.view_id,r=t.el_id,a=t.type,o=t.props;console.log(n,r,a,o),console.log(e.views);var i=e.views.find((function(e){return e.id==n})).elements[r];i.type=a,i.props=o},addVisualization:function(e,t){var n=t.view_id,r=t.type;e.views.find((function(e){return e.id==n})).elements.push({type:r})},removeVisualization:function(e,t){var n=t.view_id,r=t.el_id;e.views.find((function(e){return e.id==n})).elements.splice(r,1)}};const ft={namespaced:!0,state:ut,getters:ct,actions:lt,mutations:dt};var pt={info:null},mt={getInfo:function(e){var t=this;return(0,W.Z)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,t._vm.$aw.getInfo();case 4:a=n.sent,r("setInfo",a),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.error("Unable to connect: ",n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},vt={setInfo:function(e,t){e.info=t}};const _t={namespaced:!0,state:pt,actions:mt,mutations:vt};r["default"].use(B.ZP);var gt=!1;const ht=new B.ZP.Store({modules:{activity:Me,buckets:Pe,settings:ze.ZP,categories:ot,views:ft,server:_t},strict:gt});var bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"wrapper"}},[n("aw-header"),n("div",{staticClass:"px-0 px-md-2",class:{container:!e.fullContainer,"container-fluid":e.fullContainer}},[n("div",{staticClass:"aw-container my-3 p-3"},[n("error-boundary",[n("user-satisfaction-poll"),e.isNewReleaseCheckEnabled?n("new-release-notification"):e._e(),n("router-view")],1)],1)]),n("aw-footer")],1)},yt=[];const wt={data:function(){return{activityViews:[],isNewReleaseCheckEnabled:!0}},computed:{fullContainer:function(){return this.$route.meta.fullContainer}},beforeCreate:function(){var e=localStorage.getItem("theme");if(null!==e&&"dark"===e){var t=document.createElement("link");t.href="/static/dark.css",t.rel="stylesheet","dark"===e&&document.querySelector("head").appendChild(t)}},mounted:function(){var e=(0,W.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("settings/ensureLoaded");case 2:return e.next=4,this.$store.dispatch("server/getInfo");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},kt=wt;var xt=n(1001),Ct=(0,xt.Z)(kt,bt,yt,!1,null,null,null);const Rt=Ct.exports;r["default"].use(a.ZPm),r["default"].component("datetime",o.Datetime),r["default"].prototype.$aw=v,r["default"].component("icon",(function(){return n.e(96).then(n.bind(n,97096))})),r["default"].component("error-boundary",(function(){return n.e(423).then(n.bind(n,64423))})),r["default"].component("input-timeinterval",(function(){return n.e(391).then(n.bind(n,27391))})),r["default"].component("aw-header",(function(){return n.e(279).then(n.bind(n,62279))})),r["default"].component("aw-footer",(function(){return n.e(967).then(n.bind(n,62967))})),r["default"].component("aw-devonly",(function(){return n.e(199).then(n.bind(n,73199))})),r["default"].component("aw-selectable-vis",(function(){return n.e(740).then(n.bind(n,98740))})),r["default"].component("aw-selectable-eventview",(function(){return n.e(313).then(n.bind(n,13313))})),r["default"].component("new-release-notification",(function(){return n.e(36).then(n.bind(n,10036))})),r["default"].component("user-satisfaction-poll",(function(){return n.e(433).then(n.bind(n,433))})),r["default"].component("aw-query-options",(function(){return n.e(821).then(n.bind(n,54821))})),r["default"].component("aw-select-categories",(function(){return n.e(407).then(n.bind(n,7407))})),r["default"].component("aw-select-categories-or-pattern",(function(){return n.e(85).then(n.bind(n,80085))})),r["default"].component("aw-summary",(function(){return n.e(161).then(n.bind(n,60161))})),r["default"].component("aw-periodusage",(function(){return n.e(18).then(n.bind(n,87018))})),r["default"].component("aw-eventlist",(function(){return n.e(223).then(n.bind(n,19223))})),r["default"].component("aw-sunburst-categories",(function(){return n.e(171).then(n.bind(n,27171))})),r["default"].component("aw-sunburst-clock",(function(){return n.e(574).then(n.bind(n,63574))})),r["default"].component("aw-timeline-inspect",(function(){return n.e(139).then(n.bind(n,9139))})),r["default"].component("aw-timeline",(function(){return n.e(371).then(n.bind(n,59371))})),r["default"].component("vis-timeline",(function(){return n.e(723).then(n.bind(n,62723))})),r["default"].component("aw-categorytree",(function(){return n.e(776).then(n.bind(n,80776))})),r["default"].component("aw-timeline-barchart",(function(){return n.e(459).then(n.bind(n,66459))})),r["default"].component("aw-calendar",(function(){return n.e(553).then(n.bind(n,22553))})),r["default"].component("aw-custom-vis",(function(){return n.e(58).then(n.bind(n,57753))})),r["default"].mixin(n(63364)),r["default"].prototype.PRODUCTION=!0,r["default"].prototype.$isAndroid=!1,new r["default"]({el:"#app",router:A,render:function(e){return e(Rt)},store:ht})},63364:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(46225);function a(e,t,n){var a=t;while(a=a.$parent){var o,i=a.$options.errorCaptured||[],s=(0,r.Z)(i);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(!1===u.call(a,e,t,n))break}}catch(c){s.e(c)}finally{s.f()}}}const o={beforeCreate:function(){var e=this,t=this.$options.methods||{},n=function(n){var r=t[n];t[n]=function(){try{for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var s=r.apply(this,o);return s&&"function"===typeof s.then&&"function"===typeof s["catch"]?s["catch"]((function(t){a(t,e,n)})):s}catch(u){a(u,e,n)}}};for(var r in t)n(r)}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,a,o]=e[l],s=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{18:"229cdd19",36:"a322e5b9",58:"f735a5c1",85:"9dd8dbc3",96:"f6d5e361",124:"30dd1921",139:"39a32c27",161:"f9ee5d13",171:"d63e53cc",176:"c5b48710",199:"cbbd314b",210:"0ecb564b",213:"40713c18",223:"883ed082",278:"b3c8ab05",279:"73dfbe4b",313:"d79f8ba2",340:"a3175e46",371:"c008bc05",391:"6a322521",407:"968685c9",423:"453b003b",433:"fd7d1036",459:"b1783b9f",553:"aa191725",574:"f3a41507",575:"4a87b662",612:"2d51b117",699:"a7845881",723:"c01b53ac",734:"e675d5f5",740:"de7e9090",749:"22598b79",753:"b6b4d560",765:"ff5af41d",776:"3862854d",821:"e71a60b5",882:"19457f50",967:"e102c6ec",989:"528b58b7"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+e+"."+{18:"dc7b4247",96:"0e21fe03",139:"380cc15a",161:"d869ca6d",171:"59588211",176:"0e21fe03",223:"cfb4499d",278:"2c4d9af6",279:"40b3d36d",340:"b8a4b011",371:"547af20e",433:"8e066774",553:"2d84da73",574:"e83a16a0",575:"2a52bcac",612:"0e21fe03",723:"273e7d95",740:"6b7961c6",753:"0e21fe03",765:"aa761ac0",776:"7ef8e18d",967:"0e21fe03",989:"0e21fe03"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="aw-webui:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{var e=(e,t,n,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=o=>{if(a.onerror=a.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,a.parentNode.removeChild(a),r(u)}};return a.onerror=a.onload=o,a.href=t,document.head.appendChild(a),a},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){a=i[r],o=a.getAttribute("data-href");if(o===e||o===t)return a}},r=r=>new Promise(((a,o)=>{var i=n.miniCssF(r),s=n.p+i;if(t(i,s))return a();e(r,s,a,o)})),a={826:0};n.f.miniCss=(e,t)=>{var n={18:1,96:1,139:1,161:1,171:1,176:1,223:1,278:1,279:1,340:1,371:1,433:1,553:1,574:1,575:1,612:1,723:1,740:1,753:1,765:1,776:1,967:1,989:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((()=>{a[e]=0}),(t=>{throw delete a[e],t})))}})(),(()=>{var e={826:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var i=n.p+n.u(t),s=new Error,u=r=>{if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,s,u]=r,c=0;if(i.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)var l=u(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkaw_webui"]=self["webpackChunkaw_webui"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(99853)));r=n.O(r)})();
//# sourceMappingURL=index.2cd1e782.js.map